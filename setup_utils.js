const _0x2e1d7f=_0x576d;(function(_0x26b4b7,_0xb08798){const _0x5298a6=_0x576d,_0xce34b0=_0x26b4b7();while(!![]){try{const _0x1cd116=-parseInt(_0x5298a6(0x1d0))/0x1*(-parseInt(_0x5298a6(0x214))/0x2)+parseInt(_0x5298a6(0x2ae))/0x3*(-parseInt(_0x5298a6(0x1ed))/0x4)+parseInt(_0x5298a6(0x27e))/0x5*(-parseInt(_0x5298a6(0x201))/0x6)+parseInt(_0x5298a6(0x2b7))/0x7*(-parseInt(_0x5298a6(0x23d))/0x8)+parseInt(_0x5298a6(0x1d1))/0x9*(-parseInt(_0x5298a6(0x270))/0xa)+-parseInt(_0x5298a6(0x237))/0xb*(parseInt(_0x5298a6(0x1e7))/0xc)+parseInt(_0x5298a6(0x274))/0xd*(parseInt(_0x5298a6(0x264))/0xe);if(_0x1cd116===_0xb08798)break;else _0xce34b0['push'](_0xce34b0['shift']());}catch(_0x42eb7e){_0xce34b0['push'](_0xce34b0['shift']());}}}(_0x5203,0xd841a));const ENEMY1_TYPE=_0x2e1d7f(0x2d7),ENEMY2_TYPE=_0x2e1d7f(0x259),ENEMY3_TYPE=_0x2e1d7f(0x276),ENEMY_WIDTH=0x28,ENEMY_HEIGHT=0x28,ENEMY1_SCALE_FACTOR=1.33,ENEMY1_WIDTH=Math[_0x2e1d7f(0x200)](ENEMY_WIDTH*ENEMY1_SCALE_FACTOR),ENEMY1_HEIGHT=Math[_0x2e1d7f(0x200)](ENEMY_HEIGHT*ENEMY1_SCALE_FACTOR),BOSS_SCALE_FACTOR=1.5,BOSS_WIDTH=Math[_0x2e1d7f(0x200)](ENEMY_WIDTH*BOSS_SCALE_FACTOR),BOSS_HEIGHT=Math[_0x2e1d7f(0x200)](ENEMY_HEIGHT*BOSS_SCALE_FACTOR),SHIP_WIDTH=0x32,SHIP_HEIGHT=0x32,SHIP_BOTTOM_MARGIN=0x1e,SHIP_MOVE_SPEED=0xa,COOP_SHIP_HORIZONTAL_OFFSET_FACTOR=0.15,CHALLENGING_STAGE_ENEMY_COUNT=0x28,CHALLENGING_STAGE_SQUADRON_SIZE=0x5,CHALLENGING_STAGE_SQUADRON_COUNT=CHALLENGING_STAGE_ENEMY_COUNT/CHALLENGING_STAGE_SQUADRON_SIZE,BASE_CS_SPEED_MULTIPLIER=4.2,MAX_CS_SPEED_MULTIPLIER=0x5,CS_HORIZONTAL_FLYBY_SPEED_FACTOR=0.35,CS_ENEMY_SPAWN_DELAY_IN_SQUADRON=0x50,CS_HORIZONTAL_FLYBY_SPAWN_DELAY=-0x19,CS_LOOP_ATTACK_SPAWN_DELAY=0x23,CHALLENGING_STAGE_SQUADRON_INTERVAL=0xbb8,PATH_T_OFFSET_PER_ENEMY=0.05,ENEMY2_MAX_HITS=0x1,ENEMY3_MAX_HITS=0x2,LEVEL_CAP_FOR_SCALING=0x32,BASE_GRID_FIRE_INTERVAL=0xaf0,MIN_GRID_FIRE_INTERVAL=0x2bc,BASE_GRID_FIRE_PROBABILITY=0.04,MAX_GRID_FIRE_PROBABILITY=0.18,BASE_GRID_MAX_FIRING_ENEMIES=0x7,MAX_GRID_MAX_FIRING_ENEMIES=0x10,BASE_RETURN_SPEED_FACTOR=1.5,MAX_RETURN_SPEED_FACTOR=2.5,PLAYER_GAME_OVER_MESSAGE_DURATION_COOP=0xbb8,AI_CAPTURE_BEAM_APPROACH_DELAY_MS=0x7d0,COOP_AI_CAPTURE_DIVE_ANTICIPATION_DURATION_MS=0xbb8,COOP_AI_SAVE_PARTNER_DELAY_MS=0x2710;let starrySkyCanvas,starryCtx,retroGridCanvas,retroGridCtx,gameCanvas,gameCtx,stars=[],gridOffsetY=0x0,isInGameState=![],isShowingScoreScreen=![],scoreScreenStartTime=0x0,highScore=0x4e20,playerLives=0x3,score=0x0,level=0x1,isTwoPlayerMode=![],selectedGameMode='normal',currentPlayer=0x1,player1Lives=0x3,player2Lives=0x3,player1Score=0x0,player2Score=0x0,player1CompletedLevel=-0x1,player1MaxLevelReached=0x1,player2MaxLevelReached=0x1,isPlayerSelectMode=![],isOnePlayerGameTypeSelectMode=![],isOnePlayerNormalGameSubTypeSelectMode=![],isOnePlayerVsAIGameTypeSelectMode=![],isGameModeSelectMode=![],isFiringModeSelectMode=![],selectedFiringMode=_0x2e1d7f(0x27a),selectedOnePlayerGameVariant='',isPlayerTwoAI=![],p1JustFiredSingle=![],p2JustFiredSingle=![],p1FireInputWasDown=![],p2FireInputWasDown=![],scoreEarnedThisCS=0x0,player1LifeThresholdsMet=new Set(),player2LifeThresholdsMet=new Set(),isManualControl=![],isShowingDemoText=![],autoStartTimerId=null,gameJustStarted=![],mainLoopId=null,isShowingIntro=![],introStep=0x0,introDisplayStartTime=0x0,lastMouseMoveResetTime=0x0,isChallengingStage=![],isFullGridWave=![],isWaveTransitioning=![],showCsHitsMessage=![],csHitsMessageStartTime=0x0,showExtraLifeMessage=![],extraLifeMessageStartTime=0x0,showPerfectMessage=![],perfectMessageStartTime=0x0,showCSClearMessage=![],csClearMessageStartTime=0x0,showCsHitsForClearMessage=![];showCsScoreForClearMessage=![];let showReadyMessage=![],readyMessageStartTime=0x0,showCsBonusScoreMessage=![],csBonusScoreMessageStartTime=0x0,readyForNextWave=![],readyForNextWaveReset=![],isCsCompletionDelayActive=![],csCompletionDelayStartTime=0x0,csCompletionResultIsPerfect=![],csIntroSoundPlayed=![],playerIntroSoundPlayed=![],stageIntroSoundPlayed=![],playLevelUpAfterCSBonus=![],isShowingPlayerGameOverMessage=![],playerGameOverMessageStartTime=0x0,playerWhoIsGameOver=0x0,nextActionAfterPlayerGameOver='',isPlayer1ShowingGameOverMessage=![],player1GameOverMessageStartTime=0x0,isPlayer2ShowingGameOverMessage=![],player2GameOverMessageStartTime=0x0,forceCenterShipNextReset=![],isShipCaptured=![],isPlayer1ShipCaptured=![],isPlayer2ShipCaptured=![],capturingBossId=null,captureBeamActive=![],captureBeamSource={'x':0x0,'y':0x0},captureBeamTargetY=0x0,captureBeamProgress=0x0,captureAttemptMadeThisLevel=![],isWaitingForRespawn=![],isPlayer1WaitingForRespawn=![],isPlayer2WaitingForRespawn=![],respawnTime=0x0,player1RespawnTime=0x0,player2RespawnTime=0x0,isInvincible=![],isPlayer1Invincible=![],isPlayer2Invincible=![],invincibilityEndTime=0x0,player1InvincibilityEndTime=0x0,player2InvincibilityEndTime=0x0,fallingShips=[],isDualShipActive=![],player1IsDualShipActive=![],player2IsDualShipActive=![],isShowingCaptureMessage=![],captureMessageStartTime=0x0,capturedBossIdWithMessage=null,enemies=[],normalWaveEntrancePaths={},challengingStagePaths={},currentWaveDefinition=null,isEntrancePhaseActive=![],enemySpawnTimeouts=[],totalEnemiesScheduledForWave=0x0,enemiesSpawnedThisWave=0x0,lastEnemyDetachTime=0x0,gridMoveDirection=0x1,lastGridFireCheckTime=0x0,firstEnemyLanded=![],currentGridOffsetX=0x0,challengingStageEnemiesHit=0x0,challengingStageTotalEnemies=CHALLENGING_STAGE_ENEMY_COUNT,isGridBreathingActive=![];gridBreathStartTime=0x0,currentGridBreathFactor=0x0;let ship={'x':0x0,'y':0x0,'width':SHIP_WIDTH,'height':SHIP_HEIGHT,'speed':SHIP_MOVE_SPEED,'targetX':0x0,'id':_0x2e1d7f(0x298)},ship1=null,ship2=null,leftPressed=![],rightPressed=![],shootPressed=![],p2LeftPressed=![];p2RightPressed=![],p2ShootPressed=![];let keyboardP1LeftDown=![];keyboardP1RightDown=![],keyboardP1ShootDown=![];let keyboardP2LeftDown=![];keyboardP2RightDown=![],keyboardP2ShootDown=![];let bullets=[],enemyBullets=[],explosions=[],hitSparks=[],playerLastShotTime=0x0,player1LastShotTime=0x0,player2LastShotTime=0x0,aiLastShotTime=0x0,aiCanShootTime=0x0,connectedGamepadIndex=null,connectedGamepadIndexP2=null,previousButtonStates=[],previousDemoButtonStates=[],previousGameButtonStates=[],previousGameButtonStatesP2=[],selectedButtonIndex=-0x1,joystickMovedVerticallyLastFrame=![],isGridSoundPlaying=![],gridJustCompleted=![],player1ShotsFired=0x0,player2ShotsFired=0x0,player1EnemiesHit=0x0,player2EnemiesHit=0x0,isShowingResultsScreen=![],gameOverSequenceStartTime=0x0,gameStartTime=0x0,visualOffsetX=-0x14,floatingScores=[],csCurrentChainHits=0x0;csCurrentChainScore=0x0,csLastHitTime=0x0,csLastChainHitPosition=null;let normalWaveCurrentChainHits=0x0;normalWaveCurrentChainScore=0x0,normalWaveLastHitTime=0x0,normalWaveLastHitPosition=null;let squadronCompletionStatus={},squadronEntranceFiringStatus={},isPaused=![],mouseIdleTimerId=null,initialGameStartSoundPlayedThisSession=![],coopStartSoundPlayedThisSession=![],wasLastGameAIDemo=![],player1TriggeredHighScoreSound=![],player2TriggeredHighScoreSound=![],isShowingCoopPlayersReady=![],coopPlayersReadyStartTime=0x0,gameJustStartedAndWaveLaunched=![],isCoopAIDemoActive=![],demoModeCounter=0x0,smoothedShip1X=undefined,smoothedShip2X=undefined,aiShip1TargetEnemy=null,aiShip2TargetEnemy=null,aiShip1CanShootTime=0x0,aiShip2CanShootTime=0x0,aiShip1LastShotTime=0x0,aiShip2LastShotTime=0x0,aiPlayerActivelySeekingCaptureById=null,coopAICaptureDiveAnticipationActive=![],coopAICaptureDiveAnticipationEndTime=0x0,player1CaptureRespawnX=0x0,player2CaptureRespawnX=0x0,player1NeedsRespawnAfterCapture=![],player2NeedsRespawnAfterCapture=![],capturedShipRespawnX_NormalMode=0x0,coopPartner1CapturedTime=0x0,coopPartner2CapturedTime=0x0,touchStartX=0x0,touchStartY=0x0,touchCurrentX=0x0,touchCurrentY=0x0,touchStartTime=0x0,isTouchActiveGame=![],isTouchActiveMenu=![],touchedMenuButtonIndex=-0x1,lastTapTime=0x0,isShowingPortraitMessage=![],gameWasAutoPausedForPortrait=![];const TOUCH_TAP_MAX_DURATION=0xfa,TOUCH_TAP_MAX_MOVEMENT=0x14,TOUCH_SHIP_CONTROL_AREA_Y_FACTOR=0.5,shipImage=new Image(),beeImage=new Image(),butterflyImage=new Image(),bossGalagaImage=new Image(),bulletImage=new Image(),enemyBulletImage=new Image(),logoImage=new Image();shipImage['src']=_0x2e1d7f(0x23a),beeImage[_0x2e1d7f(0x290)]='Afbeeldingen/bee.png',bulletImage[_0x2e1d7f(0x290)]=_0x2e1d7f(0x1fa),bossGalagaImage[_0x2e1d7f(0x290)]=_0x2e1d7f(0x2af),butterflyImage[_0x2e1d7f(0x290)]=_0x2e1d7f(0x1e5),logoImage['src']=_0x2e1d7f(0x1fd),enemyBulletImage[_0x2e1d7f(0x290)]=_0x2e1d7f(0x217);const beeImage2=new Image(),butterflyImage2=new Image(),bossGalagaImage2=new Image();beeImage2[_0x2e1d7f(0x290)]=_0x2e1d7f(0x20b),butterflyImage2[_0x2e1d7f(0x290)]=_0x2e1d7f(0x24f),bossGalagaImage2[_0x2e1d7f(0x290)]=_0x2e1d7f(0x28a);const level1Image=new Image(),level5Image=new Image(),level10Image=new Image(),level20Image=new Image(),level30Image=new Image(),level50Image=new Image();level1Image[_0x2e1d7f(0x290)]=_0x2e1d7f(0x1c7),level5Image[_0x2e1d7f(0x290)]=_0x2e1d7f(0x1cc),level10Image[_0x2e1d7f(0x290)]=_0x2e1d7f(0x2b3),level20Image[_0x2e1d7f(0x290)]=_0x2e1d7f(0x243),level30Image['src']=_0x2e1d7f(0x245),level50Image[_0x2e1d7f(0x290)]=_0x2e1d7f(0x1d5);let audioContext,soundBuffers={},soundSources={},soundGainNodes={},audioContextInitialized=![];const soundPaths={'captureSound':_0x2e1d7f(0x22c),'shipCapturedSound':_0x2e1d7f(0x1e3),'dualShipSound':_0x2e1d7f(0x208),'playerShootSound':_0x2e1d7f(0x2c3),'explosionSound':_0x2e1d7f(0x2aa),'gameOverSound':'Geluiden/gameover.mp3','lostLifeSound':_0x2e1d7f(0x1cf),'entranceSound':_0x2e1d7f(0x285),'bossGalagaDiveSound':_0x2e1d7f(0x1e1),'levelUpSound':_0x2e1d7f(0x230),'enemyShootSound':_0x2e1d7f(0x2d8),'butterflyDiveSound':_0x2e1d7f(0x27d),'startSound':_0x2e1d7f(0x2ca),'coinSound':_0x2e1d7f(0x208),'beeHitSound':'Geluiden/Bees-hit.mp3','butterflyHitSound':'Geluiden/Butterfly-hit.mp3','bossHit1Sound':_0x2e1d7f(0x244),'bossHit2Sound':_0x2e1d7f(0x22e),'gridBackgroundSound':'Geluiden/Achtergrond-grid.mp3','extraLifeSound':_0x2e1d7f(0x242),'csPerfectSound':_0x2e1d7f(0x207),'csClearSound':_0x2e1d7f(0x24a),'waveUpSound':_0x2e1d7f(0x250),'menuMusicSound':_0x2e1d7f(0x251),'readySound':_0x2e1d7f(0x1d8),'tripleAttackSound':'Geluiden/Triple.mp3','resultsMusicSound':'Geluiden/results-music.mp3','hiScoreSound':'Geluiden/hi-score.mp3'},BASE_ENEMY_BULLET_SPEED=0x9,MAX_ENEMY_BULLET_SPEED=0x9,BASE_ENEMY_ATTACK_SPEED=5.5,MAX_ENEMY_ATTACK_SPEED=0x8,BASE_MAX_ATTACKING_ENEMIES=0xa,MAX_MAX_ATTACKING_ENEMIES=0x16,BASE_GRID_MOVE_SPEED=0.3,MAX_GRID_MOVE_SPEED=0.7,BASE_GRID_BREATH_CYCLE_MS=0x7d0,MIN_GRID_BREATH_CYCLE_MS=0x3e8,BASE_ENEMY_BULLET_BURST_COUNT=0x1,MAX_ENEMY_BULLET_BURST_COUNT=0x5,BASE_ENEMY_AIM_FACTOR=0.75,MAX_ENEMY_AIM_FACTOR=0.95,BASE_BEE_GROUP_ATTACK_PROBABILITY=0.05,MAX_BEE_GROUP_ATTACK_PROBABILITY=0.4,BASE_BEE_TRIPLE_ATTACK_PROBABILITY=0.1,MAX_BEE_TRIPLE_ATTACK_PROBABILITY=0.5,PLAYER_BULLET_WIDTH=0x5,PLAYER_BULLET_HEIGHT=0xf,PLAYER_BULLET_SPEED=0xe,DUAL_SHIP_BULLET_OFFSET_X=SHIP_WIDTH*0.5,ENEMY_BULLET_WIDTH=0x4,ENEMY_BULLET_HEIGHT=0xc,NUM_STARS=0x1f4,MAX_STAR_RADIUS=1.5,MIN_STAR_RADIUS=0.5,TWINKLE_SPEED=0.015,BASE_PARALLAX_SPEED=0.3,PARALLAX_SPEED_FACTOR=0x2,STAR_FADE_START_FACTOR_ABOVE_HORIZON=0.25,GRID_RGB_PART=_0x2e1d7f(0x2c0),GRID_BASE_ALPHA=0.8,GRID_MIN_ALPHA=0.3,GRID_FIXED_LINES_ALPHA=0.5,GRID_LINE_COLOR_FIXED=_0x2e1d7f(0x273)+GRID_RGB_PART+',\x20'+GRID_FIXED_LINES_ALPHA+')',GRID_LINE_WIDTH=0x2,GRID_SPEED=0.4,GRID_HORIZON_Y_FACTOR=0.74,GRID_BASE_SPACING=0xf,GRID_SPACING_POWER=0x2,GRID_HORIZONTAL_LINE_WIDTH_FACTOR=1.5,GRID_NUM_PERSPECTIVE_LINES=0xe,GRID_HORIZON_SPREAD_FACTOR=1.2,GRID_BOTTOM_SPREAD_FACTOR=0x2,GRID_PERSPECTIVE_POWER=0x1,MENU_INACTIVITY_TIMEOUT=0x4e20,SCORE_SCREEN_DURATION=0x4e20,ENTRANCE_SPEED=0x6,BASE_RETURN_SPEED=ENTRANCE_SPEED,NORMAL_ENTRANCE_PATH_SPEED=0.013934592,BOSS_LOOP_ENTRANCE_PATH_SPEED=0.055738368,ENEMY_SPAWN_DELAY_IN_SQUADRON=0x64,ENTRANCE_PAIR_HORIZONTAL_GAP=0x5,ENTRANCE_PAIR_PATH_T_OFFSET=0x0,NORMAL_WAVE_SQUADRON_INTERVAL=0x708,ENTRANCE_FIRE_BURST_DELAY_MS=0x50,CS_ENTRANCE_PATH_SPEED=0.0032,CS_COMPLETION_MESSAGE_DELAY=0x3e8,ENEMY_ANIMATION_INTERVAL_MS=0xfa,AXIS_DEAD_ZONE_MENU=0.3,AXIS_DEAD_ZONE_GAMEPLAY=0.15,PS5_BUTTON_CROSS=0x0,PS5_BUTTON_CIRCLE=0x1,PS5_BUTTON_TRIANGLE=0x3,PS5_BUTTON_R1=0x5,PS5_DPAD_UP=0xc,PS5_DPAD_DOWN=0xd,PS5_DPAD_LEFT=0xe,PS5_DPAD_RIGHT=0xf,PS5_LEFT_STICK_X=0x0,PS5_LEFT_STICK_Y=0x1,SHOOT_COOLDOWN=0x8c,CS_MULTI_BULLET_COUNT=0x2,CS_MULTI_BULLET_SPREAD_ANGLE_DEG=0x8,GRID_ROWS=0x5,GRID_COLS=0xa,ENEMY_V_SPACING=0x14,ENEMY_H_SPACING_FIXED=0x1e,ENEMY_TOP_MARGIN=0x75,GRID_HORIZONTAL_MARGIN_PERCENT=0.18,GRID_BREATH_ENABLED=!![],GRID_BREATH_MAX_EXTRA_H_SPACING_FACTOR=0.5,GRID_BREATH_MAX_EXTRA_V_SPACING_FACTOR=0.3,ENEMY1_DIVE_SPEED_FACTOR=0.65,ENEMY2_DIVE_SPEED_FACTOR=0.75,ENEMY3_ATTACK_SPEED_FACTOR=0.8,BOSS_CAPTURE_DIVE_SPEED_FACTOR=0.85,GROUP_DETACH_DELAY_MS=0x50,GROUP_FIRE_BURST_DELAY=0x258,SOLO_BUTTERFLY_FIRE_DELAY=0x258,BOSS_CAPTURE_DIVE_PROBABILITY=0.15,CAPTURE_DIVE_SIDE_MARGIN_FACTOR=0.15,CAPTURE_DIVE_BOTTOM_HOVER_Y_FACTOR=0.7,CAPTURE_BEAM_DURATION_MS=0x1388,CAPTURE_BEAM_ANIMATION_DURATION_MS=0x1f4,CAPTURE_BEAM_WIDTH_TOP_FACTOR=0.7,CAPTURE_BEAM_WIDTH_BOTTOM_FACTOR=1.8,CAPTURE_BEAM_COLOR_START=_0x2e1d7f(0x213),CAPTURE_BEAM_COLOR_END=_0x2e1d7f(0x1dd),CAPTURE_BEAM_PULSE_SPEED=0.004,CAPTURED_SHIP_SCALE=0x1,CAPTURED_SHIP_OFFSET_X=(BOSS_WIDTH-SHIP_WIDTH)/0x2,CAPTURED_SHIP_OFFSET_Y=-SHIP_HEIGHT*0.5,CAPTURE_MESSAGE_DURATION=0xbb8,CAPTURED_SHIP_TINT_COLOR=_0x2e1d7f(0x2a5),CAPTURED_SHIP_FIRE_COOLDOWN_MS=0x1f4,RESPAWN_DELAY_MS=0x7d0,INVINCIBILITY_DURATION_MS=0x7d0,INVINCIBILITY_BLINK_ON_MS=0x64,INVINCIBILITY_BLINK_OFF_MS=0x32,FALLING_SHIP_SPEED=3.5,FALLING_SHIP_FADE_DURATION_MS=0x5dc,FALLING_SHIP_ROTATION_DURATION_MS=0x5dc,FALLING_SHIP_ROTATION_SPEED=0.1,DUAL_SHIP_DOCK_TIME_MS=0x3e8,DUAL_SHIP_OFFSET_X=SHIP_WIDTH,AUTO_DOCK_THRESHOLD=0x14,FLOATING_SCORE_DURATION=0x1f4,FLOATING_SCORE_APPEAR_DELAY=-0x32,FLOATING_SCORE_FONT=_0x2e1d7f(0x25f),FLOATING_SCORE_OPACITY=0.5,FLOATING_SCORE_COLOR_GRID=_0x2e1d7f(0x2a9),FLOATING_SCORE_COLOR_ACTIVE=_0x2e1d7f(0x24c),FLOATING_SCORE_COLOR_CS_CHAIN=_0x2e1d7f(0x2a9),CS_CHAIN_SCORE_THRESHOLD=0x4,CS_CHAIN_BREAK_TIME_MS=0x1f4,NORMAL_WAVE_CHAIN_BONUS_ENABLED=![],NORMAL_WAVE_CHAIN_SCORE_THRESHOLD=0x4,NORMAL_WAVE_CHAIN_BREAK_TIME_MS=0x2ee,EXPLOSION_DURATION=0x28a,EXPLOSION_PARTICLE_COUNT=0x19,EXPLOSION_MAX_SPEED=5.5,EXPLOSION_MIN_SPEED=1.5,EXPLOSION_PARTICLE_RADIUS=0x4,EXPLOSION_FADE_SPEED=2.8,EXPLOSION_MAX_OPACITY=0.8,HIT_SPARK_COUNT=0x8,HIT_SPARK_LIFETIME=0x5dc,HIT_SPARK_SPEED=4.5,HIT_SPARK_SIZE=2.5,HIT_SPARK_COLOR=_0x2e1d7f(0x20d),HIT_SPARK_GRAVITY=0.05,HIT_SPARK_FADE_SPEED=0x1/HIT_SPARK_LIFETIME,UI_TEXT_MARGIN_TOP=0x23,UI_1UP_BLINK_ON_MS=0x258,UI_1UP_BLINK_OFF_MS=0x190,UI_1UP_BLINK_CYCLE_MS=UI_1UP_BLINK_ON_MS+UI_1UP_BLINK_OFF_MS,AI_SHOOT_COOLDOWN=0x8c,AI_STABILIZATION_DURATION=0x1f4,AI_POSITION_MOVE_SPEED_FACTOR=1.2,AI_COLLISION_LOOKAHEAD=SHIP_HEIGHT*3.5,AI_COLLISION_BUFFER=SHIP_WIDTH*0.6,FINAL_DODGE_LOOKAHEAD=AI_COLLISION_LOOKAHEAD*4.5,FINAL_DODGE_BUFFER_BASE=AI_COLLISION_BUFFER*3.5,ENTRANCE_BULLET_DODGE_LOOKAHEAD=FINAL_DODGE_LOOKAHEAD*1.1,ENTRANCE_BULLET_DODGE_BUFFER=FINAL_DODGE_BUFFER_BASE*1.1,FINAL_AI_DODGE_MOVE_SPEED_FACTOR=3.8,AI_SHOOT_ALIGNMENT_THRESHOLD=0.15,AI_SHOT_CLEARANCE_BUFFER=PLAYER_BULLET_WIDTH*1.5,MAX_PREDICTION_TIME_CS=0.7,NORMAL_MOVE_FRACTION=0.08,CS_AI_MOVE_FRACTION=0.16,AI_SMOOTHING_FACTOR_MOVE=0.05,CS_MOVE_SPEED_FACTOR=1.8,NORMAL_WAVE_ATTACKING_DODGE_BUFFER_MULTIPLIER=1.2,NORMAL_WAVE_ATTACKING_DODGE_SPEED_MULTIPLIER=1.1,STABILIZE_MOVE_FRACTION=0.05,ENTRANCE_DODGE_MOVE_FRACTION=0.15,AI_MOVEMENT_DEADZONE=0.8,AI_SMOOTHING_FACTOR=0.1,AI_EDGE_BUFFER=SHIP_WIDTH*0.5,AI_ANTI_CORNER_BUFFER=AI_EDGE_BUFFER*2.5,BEE_DODGE_BUFFER_HORIZONTAL_FACTOR=1.5,FINAL_SHOOT_ALIGNMENT_THRESHOLD=0x2,GRID_SHOOT_ALIGNMENT_FACTOR=1.5,ENTRANCE_SHOOT_ALIGNMENT_FACTOR=1.2,ENTRANCE_AI_DODGE_MOVE_SPEED_FACTOR=0x4,AI_WIGGLE_AMPLITUDE=SHIP_WIDTH*0.15,AI_WIGGLE_PERIOD=0xbb8,AI_EDGE_SHOOT_BUFFER_FACTOR=0x2,AI_EDGE_SHOOT_TARGET_THRESHOLD_FACTOR=0.75,ENTRANCE_SHOOT_BULLET_CHECK_LOOKAHEAD=SHIP_HEIGHT*1.5,ENTRANCE_SHOOT_BULLET_CHECK_BUFFER=SHIP_WIDTH*0.8,MAX_PREDICTION_TIME=0.8,LOCAL_CS_POSITION_MIN_X=0x0,LOCAL_CS_POSITION_MAX_X=0x0,CS_SHOOTING_MOVE_FRACTION=0.25,CS_SHOOTING_MOVE_SPEED_FACTOR=0x2,CS_PREDICTION_FACTOR=0x1,AI_CAPTURE_WAIT_DURATION_MS=0x7d0,INTRO_DURATION_PER_STEP=0xfa0,TWO_PLAYER_STAGE_INTRO_DURATION=0xfa0,READY_MESSAGE_DURATION=0xbb8,CS_HITS_MESSAGE_DURATION=0x3e8,CS_PERFECT_MESSAGE_DURATION=0x3e8,CS_BONUS_MESSAGE_DURATION=0x1f40,CS_CLEAR_DELAY=0x1f40,CS_CLEAR_HITS_DELAY=0x3e8,CS_CLEAR_SCORE_DELAY=0x7d0,EXTRA_LIFE_MESSAGE_DURATION=0xbb8,RECURRING_EXTRA_LIFE_INTERVAL=0x11170,POST_MESSAGE_RESET_DELAY=0x3e8,EXTRA_LIFE_THRESHOLD_1=0x4e20,EXTRA_LIFE_THRESHOLD_2=0x11170,GAME_OVER_DURATION=0x1388,waveEntrancePatterns=[[{'pathId':_0x2e1d7f(0x204),'enemies':[{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x4,'entrancePathId':_0x2e1d7f(0x204)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x5,'entrancePathId':_0x2e1d7f(0x204)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x4,'entrancePathId':_0x2e1d7f(0x204)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x5,'entrancePathId':_0x2e1d7f(0x204)}]},{'pathId':_0x2e1d7f(0x294),'enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x4,'entrancePathId':_0x2e1d7f(0x294)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x5,'entrancePathId':_0x2e1d7f(0x294)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x4,'entrancePathId':_0x2e1d7f(0x294)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x5,'entrancePathId':'new_path_right'}]},{'pathId':'boss_loop_left','enemies':[{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x4,'entrancePathId':_0x2e1d7f(0x22f),'hasCapturedShip':![]},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x5,'entrancePathId':_0x2e1d7f(0x22f),'hasCapturedShip':![]},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x3,'entrancePathId':_0x2e1d7f(0x22f)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x6,'entrancePathId':_0x2e1d7f(0x22f)},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x3,'entrancePathId':_0x2e1d7f(0x22f),'hasCapturedShip':![]},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x6,'entrancePathId':_0x2e1d7f(0x22f),'hasCapturedShip':![]},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x3,'entrancePathId':_0x2e1d7f(0x22f)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x6,'entrancePathId':_0x2e1d7f(0x22f)}]},{'pathId':'boss_loop_right','enemies':[{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x1,'entrancePathId':_0x2e1d7f(0x275)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x2,'entrancePathId':_0x2e1d7f(0x275)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x7,'entrancePathId':_0x2e1d7f(0x275)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x8,'entrancePathId':_0x2e1d7f(0x275)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x1,'entrancePathId':_0x2e1d7f(0x275)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x2,'entrancePathId':'boss_loop_right'},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x7,'entrancePathId':_0x2e1d7f(0x275)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x8,'entrancePathId':_0x2e1d7f(0x275)}]},{'pathId':_0x2e1d7f(0x21e),'enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x6,'entrancePathId':'mid_curve_left'},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x7,'entrancePathId':'mid_curve_left'},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x8,'entrancePathId':_0x2e1d7f(0x21e)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x9,'entrancePathId':_0x2e1d7f(0x21e)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x6,'entrancePathId':_0x2e1d7f(0x21e)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x7,'entrancePathId':'mid_curve_left'},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x8,'entrancePathId':_0x2e1d7f(0x21e)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x9,'entrancePathId':_0x2e1d7f(0x21e)}]},{'pathId':_0x2e1d7f(0x26b),'enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x0,'entrancePathId':_0x2e1d7f(0x26b)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x1,'entrancePathId':_0x2e1d7f(0x26b)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x2,'entrancePathId':_0x2e1d7f(0x26b)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x3,'entrancePathId':_0x2e1d7f(0x26b)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x0,'entrancePathId':_0x2e1d7f(0x26b)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x1,'entrancePathId':'mid_curve_right'},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x2,'entrancePathId':_0x2e1d7f(0x26b)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x3,'entrancePathId':_0x2e1d7f(0x26b)}]}],[{'pathId':_0x2e1d7f(0x204),'enemies':[{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x4,'entrancePathId':'new_path_left'},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x5,'entrancePathId':_0x2e1d7f(0x204)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x4,'entrancePathId':_0x2e1d7f(0x204)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x5,'entrancePathId':_0x2e1d7f(0x204)}]},{'pathId':_0x2e1d7f(0x294),'enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x4,'entrancePathId':_0x2e1d7f(0x294)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x5,'entrancePathId':_0x2e1d7f(0x294)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x4,'entrancePathId':_0x2e1d7f(0x294)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x5,'entrancePathId':_0x2e1d7f(0x294)}]},{'pathId':_0x2e1d7f(0x22f),'enemies':[{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x4,'entrancePathId':_0x2e1d7f(0x22f),'hasCapturedShip':![]},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x5,'entrancePathId':_0x2e1d7f(0x22f),'hasCapturedShip':![]},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x3,'entrancePathId':'boss_loop_left'},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x6,'entrancePathId':'boss_loop_left'},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x3,'entrancePathId':_0x2e1d7f(0x22f),'hasCapturedShip':![]},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x6,'entrancePathId':_0x2e1d7f(0x22f),'hasCapturedShip':![]},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x3,'entrancePathId':_0x2e1d7f(0x22f)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x6,'entrancePathId':_0x2e1d7f(0x22f)}]},{'pathId':_0x2e1d7f(0x275),'enemies':[{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x1,'entrancePathId':_0x2e1d7f(0x275)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x2,'entrancePathId':_0x2e1d7f(0x275)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x7,'entrancePathId':'boss_loop_right'},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x8,'entrancePathId':_0x2e1d7f(0x275)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x1,'entrancePathId':_0x2e1d7f(0x275)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x2,'entrancePathId':_0x2e1d7f(0x275)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x7,'entrancePathId':_0x2e1d7f(0x275)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x8,'entrancePathId':_0x2e1d7f(0x275)}]},{'pathId':_0x2e1d7f(0x21e),'enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x6,'entrancePathId':_0x2e1d7f(0x21e)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x7,'entrancePathId':_0x2e1d7f(0x21e)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x8,'entrancePathId':_0x2e1d7f(0x21e)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x9,'entrancePathId':_0x2e1d7f(0x21e)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x6,'entrancePathId':'mid_curve_left'},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x7,'entrancePathId':_0x2e1d7f(0x21e)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x8,'entrancePathId':_0x2e1d7f(0x21e)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x9,'entrancePathId':_0x2e1d7f(0x21e)}]},{'pathId':_0x2e1d7f(0x26b),'enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x0,'entrancePathId':_0x2e1d7f(0x26b)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x1,'entrancePathId':_0x2e1d7f(0x26b)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x2,'entrancePathId':_0x2e1d7f(0x26b)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x3,'entrancePathId':_0x2e1d7f(0x26b)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x0,'entrancePathId':'mid_curve_right'},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x1,'entrancePathId':_0x2e1d7f(0x26b)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x2,'entrancePathId':_0x2e1d7f(0x26b)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x3,'entrancePathId':_0x2e1d7f(0x26b)}]}]],MARGIN_TOP=0x5,MARGIN_SIDE=0x69,SCORE_OFFSET_Y=0x19,LIFE_ICON_SIZE=0x23,LIFE_ICON_SPACING=0x8,LIFE_ICON_MARGIN_BOTTOM=-0x1,LIFE_ICON_MARGIN_LEFT=MARGIN_SIDE-0x1e,LEVEL_ICON_SIZE=0x23,LEVEL_ICON_MARGIN_BOTTOM=LIFE_ICON_MARGIN_BOTTOM,LEVEL_ICON_MARGIN_RIGHT=MARGIN_SIDE-0x1e,LEVEL_ICON_SPACING=LIFE_ICON_SPACING;function checkCollision(_0x512a49,_0x1693c9){const _0x17883f=_0x2e1d7f;if(!_0x512a49||!_0x1693c9)return![];return _0x512a49['x']<_0x1693c9['x']+_0x1693c9[_0x17883f(0x220)]&&_0x512a49['x']+_0x512a49[_0x17883f(0x220)]>_0x1693c9['x']&&_0x512a49['y']<_0x1693c9['y']+_0x1693c9[_0x17883f(0x2bc)]&&_0x512a49['y']+_0x512a49['height']>_0x1693c9['y'];}function initializeAudioContext(){const _0xa7f2c5=_0x2e1d7f;if(audioContextInitialized)return;try{audioContext=new(window[(_0xa7f2c5(0x2b1))]||window[(_0xa7f2c5(0x202))])();if(audioContext[_0xa7f2c5(0x23b)]===_0xa7f2c5(0x279)){const _0x32db96=()=>{const _0x1348c6=_0xa7f2c5;audioContext[_0x1348c6(0x1cb)]()[_0x1348c6(0x295)](()=>{const _0x3c07b5=_0x1348c6;console[_0x3c07b5(0x1df)]('AudioContext\x20resumed\x20successfully\x20after\x20user\x20gesture.'),audioContextInitialized=!![],window[_0x3c07b5(0x1fc)]('click',_0x32db96),window[_0x3c07b5(0x1fc)]('touchstart',_0x32db96);})[_0x1348c6(0x246)](_0x3174c2=>console['error'](_0x1348c6(0x1ce),_0x3174c2));};window[_0xa7f2c5(0x24e)](_0xa7f2c5(0x287),_0x32db96,{'once':!![]}),window[_0xa7f2c5(0x24e)](_0xa7f2c5(0x224),_0x32db96,{'once':!![]});}else audioContextInitialized=!![];}catch(_0x4c6748){console['error'](_0xa7f2c5(0x21a),_0x4c6748);}}async function loadSound(_0x3b6342,_0x32acbf){const _0x559dfe=_0x2e1d7f;if(!audioContext){console[_0x559dfe(0x22b)]('AudioContext\x20not\x20initialized,\x20cannot\x20load\x20sound:\x20'+_0x3b6342);return;}if(soundBuffers[_0x3b6342])return;try{const _0x2adafc=await fetch(_0x32acbf);if(!_0x2adafc['ok'])throw new Error(_0x559dfe(0x238)+_0x2adafc[_0x559dfe(0x1e6)]+_0x559dfe(0x239)+_0x32acbf);const _0x2f238a=await _0x2adafc[_0x559dfe(0x28f)]();audioContext[_0x559dfe(0x219)](_0x2f238a,_0x2564e9=>{soundBuffers[_0x3b6342]=_0x2564e9;},_0x14ab78=>{const _0x4be49d=_0x559dfe;console[_0x4be49d(0x288)]('Error\x20decoding\x20audio\x20data\x20for\x20'+_0x3b6342+'\x20('+_0x32acbf+'):',_0x14ab78);});}catch(_0x2c642d){console['error'](_0x559dfe(0x28b)+_0x3b6342+'\x20('+_0x32acbf+'):',_0x2c642d);}}function loadAllSounds(){if(!audioContext)return;for(const _0x4338f6 in soundPaths){loadSound(_0x4338f6,soundPaths[_0x4338f6]);}}function initializeDOMElements(){const _0x5f0ca4=_0x2e1d7f;starrySkyCanvas=document[_0x5f0ca4(0x2d2)]('starrySkyCanvas'),starryCtx=starrySkyCanvas?.['getContext']('2d'),retroGridCanvas=document[_0x5f0ca4(0x2d2)](_0x5f0ca4(0x272)),retroGridCtx=retroGridCanvas?.[_0x5f0ca4(0x1f0)]('2d'),gameCanvas=document[_0x5f0ca4(0x2d2)](_0x5f0ca4(0x265)),gameCtx=gameCanvas?.[_0x5f0ca4(0x1f0)]('2d');if(!starryCtx||!retroGridCtx||!gameCtx)return console[_0x5f0ca4(0x288)](_0x5f0ca4(0x2b4)),alert('Error\x20loading\x20critical\x20canvas\x20elements.'),document[_0x5f0ca4(0x282)][_0x5f0ca4(0x1d6)]=_0x5f0ca4(0x21b),![];if(gameCanvas[_0x5f0ca4(0x220)]===0x0||gameCanvas[_0x5f0ca4(0x2bc)]===0x0){const _0x2ba444=window[_0x5f0ca4(0x2b0)]||0x320,_0x3f99c3=window[_0x5f0ca4(0x1f7)]||0x258;starrySkyCanvas&&(starrySkyCanvas[_0x5f0ca4(0x220)]=_0x2ba444,starrySkyCanvas[_0x5f0ca4(0x2bc)]=_0x3f99c3),retroGridCanvas&&(retroGridCanvas[_0x5f0ca4(0x220)]=_0x2ba444,retroGridCanvas[_0x5f0ca4(0x2bc)]=_0x3f99c3),gameCanvas[_0x5f0ca4(0x220)]=_0x2ba444,gameCanvas[_0x5f0ca4(0x2bc)]=_0x3f99c3;}floatingScores=[],csCurrentChainHits=0x0,csCurrentChainScore=0x0,csLastHitTime=0x0,csLastChainHitPosition=null,normalWaveCurrentChainHits=0x0,normalWaveCurrentChainScore=0x0,normalWaveLastHitTime=0x0,normalWaveLastHitPosition=null,initializeAudioContext();audioContext&&(loadAllSounds(),setTimeout(()=>{const _0x28786e=_0x5f0ca4;!audioContextInitialized&&audioContext[_0x28786e(0x23b)]===_0x28786e(0x279)&&console[_0x28786e(0x22b)](_0x28786e(0x22a)),setVolume('playerShootSound',0.4),setVolume(_0x28786e(0x29e),0.4),setVolume('gameOverSound',0.4),setVolume(_0x28786e(0x225),0.6),setVolume('entranceSound',0.4),setVolume(_0x28786e(0x249),0.2),setVolume('levelUpSound',0.2),setVolume('enemyShootSound',0.4),setVolume(_0x28786e(0x1f5),0.2),setVolume(_0x28786e(0x286),0.4),setVolume(_0x28786e(0x2a6),0.4),setVolume(_0x28786e(0x228),0.3),setVolume('butterflyHitSound',0.3),setVolume(_0x28786e(0x2c5),0.6),setVolume(_0x28786e(0x271),0.4),setVolume(_0x28786e(0x2a0),0.1),setVolume(_0x28786e(0x283),0.5),setVolume(_0x28786e(0x2cd),0.6),setVolume(_0x28786e(0x218),0.6),setVolume(_0x28786e(0x1f3),0.8),setVolume('menuMusicSound',0.2),setVolume(_0x28786e(0x1ea),0.1),setVolume('tripleAttackSound',0.3),setVolume(_0x28786e(0x292),0.6),setVolume(_0x28786e(0x28e),0.3),setVolume(_0x28786e(0x2c8),0.4),setVolume(_0x28786e(0x2b9),0.2),setVolume('hiScoreSound',0.2);},0x64));gameCanvas&&(gameCanvas[_0x5f0ca4(0x24e)](_0x5f0ca4(0x224),handleTouchStartGlobal,{'passive':![]}),gameCanvas[_0x5f0ca4(0x24e)]('touchmove',handleTouchMoveGlobal,{'passive':![]}),gameCanvas[_0x5f0ca4(0x24e)](_0x5f0ca4(0x1e2),handleTouchEndGlobal,{'passive':![]}),gameCanvas['addEventListener'](_0x5f0ca4(0x240),handleTouchEndGlobal,{'passive':![]}));const _0xedc124=[shipImage,beeImage,bulletImage,bossGalagaImage,butterflyImage,logoImage,level1Image,level5Image,level10Image,level20Image,level30Image,level50Image,beeImage2,butterflyImage2,bossGalagaImage2];return _0xedc124[_0x5f0ca4(0x289)](_0x2af27d=>{const _0x77d54=_0x5f0ca4;if(_0x2af27d)_0x2af27d['onerror']=()=>console[_0x77d54(0x288)](_0x77d54(0x20a)+_0x2af27d['src']);}),!![];}function _0x576d(_0x4bc14e,_0x56e751){const _0x5203dc=_0x5203();return _0x576d=function(_0x576daa,_0x29c0e5){_0x576daa=_0x576daa-0x1c6;let _0x10e5f8=_0x5203dc[_0x576daa];return _0x10e5f8;},_0x576d(_0x4bc14e,_0x56e751);}function _0x5203(){const _0x5ac77e=['Space','moveTo','suspended','rapid','strokeStyle','gridRow','Geluiden/flying.mp3','4315dRDCFo','sin','filter','getBoundingClientRect','body','extraLifeSound','targetX','Geluiden/Entree.mp3','startSound','click','error','forEach','Afbeeldingen/bossGalaga-2.png','Error\x20fetching\x20sound\x20','pressed','gamepadconnected','shipCapturedSound','arrayBuffer','src','Cannot\x20define\x20CS\x20paths:\x20Canvas\x20size\x20unknown\x20or\x20zero\x20width.','captureSound','keys','new_path_right','then','touches','createBufferSource','main','alpha','2UP','ai_p2','gamepad','menuMusicSound','explosionSound','message','gridBackgroundSound','undefined','CS_LoopAttack_BR','AudioContext\x20resumed\x20by\x20keydown.','Error\x20in\x20handleKeyDown:','rgba(255,\x20150,\x20150,\x200.55)','coinSound','Error\x20in\x20handleKeyUp:','alphaChange','cyan','Geluiden/kill.mp3','ArrowUp','fillStyle','lineTo','609KlKRZF','Afbeeldingen/bossGalaga.png','innerWidth','AudioContext','player1','Afbeeldingen/Level-10.png','FATAL:\x20Could\x20not\x20initialize\x20one\x20or\x20more\x20canvas\x20contexts!','destination','index','1214458beJvXo','ctrlKey','resultsMusicSound','sqrt','includes','height','Error\x20in\x20handleGamepadDisconnected:','documentElement','changedTouches','100,\x20180,\x20255','shoot','CS_LoopAttack_TL','Geluiden/firing.mp3','arc','bossHit1Sound','Normal\x20Wave\x20Path\x20','KeyA','dualShipSound','max','Geluiden/Start.mp3','length','KeyI','csPerfectSound','hasOwnProperty','msRequestFullscreen','Error\x20resuming\x20AudioContext\x20for\x20fullscreen\x20music:','buttons','getElementById','axes','min','ArrowDown','cos','enemy1','Geluiden/Fire-enemy.mp3','parse','gamepaddisconnected','AudioContext\x20resumed\x20from\x20pause.','map','Afbeeldingen/Level-1.png','left','Error\x20in\x20loadHighScore:','Numpad0','resume','Afbeeldingen/Level-5.png','888888','Error\x20resuming\x20AudioContext:','Geluiden/lost-live.mp3','1sNoARV','2173104cIZYqK','2up','currentTime','pow','Afbeeldingen/Level-50.png','innerHTML','function','Geluiden/ready.mp3','name','clearRect','CLASSIC_1P','gameOverSound','rgba(220,\x20220,\x20255,\x200.6)','webkitRequestFullscreen','log','KeyD','Geluiden/Enemy2.mp3','touchend','Geluiden/Capture-ship.mp3','KeyW','Afbeeldingen/butterfly.png','status','12926136QlAKjd','isArray','CS_LoopAttack_TR','readySound','preventDefault','moving_to_grid','32252tBRPrU','\x20is\x20not\x20an\x20array!\x20Using\x20basic\x20fallback.','connect','getContext','end','Numpad6','waveUpSound','shiftKey','butterflyDiveSound','ArrowRight','innerHeight','stringify','Numpad4','Afbeeldingen/bullet.png','toLowerCase','removeEventListener','Afbeeldingen/Logo.png','back','KeyJ','round','198OcZLon','webkitAudioContext','gain','new_path_left','code','single','Geluiden/CS-Stage-Perfect-.mp3','Geluiden/coin.mp3','push','Error\x20loading\x20image:\x20','Afbeeldingen/bee-2.png','1P_VS_AI_NORMAL','rgba(255,\x20255,\x20180,\x200.9)','Error\x20recalculating\x20grid\x20pos\x20for\x20enemy\x20','floor','now','type','requestFullscreen','rgba(180,\x20180,\x20255,\x200.1)','1700294vsHxQs','lineWidth','Fullscreen\x20API\x20is\x20not\x20supported\x20by\x20this\x20browser.','Afbeeldingen/bullet-enemy.png','csClearSound','decodeAudioData','Web\x20Audio\x20API\x20is\x20not\x20supported\x20in\x20this\x20browser.','<p\x20style=\x22color:white;\x22>FATAL\x20ERROR</p>','radius','Cannot\x20define\x20Normal\x20Wave\x20entrance\x20paths:\x20Canvas\x20size\x20unknown\x20or\x20zero\x20width.','mid_curve_left','Error\x20in\x20drawRetroGrid:','width','fullscreenElement','stop','player2','touchstart','lostLifeSound','random','fill','beeHitSound','key','AudioContext\x20still\x20suspended.\x20User\x20interaction\x20needed\x20to\x20play\x20sounds.','warn','Geluiden/Capture.mp3','stroke','Geluiden/Boss-hit2.mp3','boss_loop_left','Geluiden/LevelUp.mp3','CS_HorizontalFlyByR','number','start','AudioContext\x20resumed\x20explicitly\x20after\x20unpause.','Error\x20in\x20drawStars:','1P_VS_AI_COOP','11wdlgYl','HTTP\x20error!\x20status:\x20','\x20for\x20','Afbeeldingen/spaceship.png','state','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','48SFNbek','loop','move','touchcancel','top','Geluiden/Extra-Leven.mp3','Afbeeldingen/Level-20.png','Geluiden/Boss-hit1.mp3','Afbeeldingen/Level-30.png','catch','atan2','beginPath','bossGalagaDiveSound','Geluiden/CS-Clear.mp3','Error\x20setting\x20up\x20initial\x20event\x20listeners:','red','Error\x20in\x20resizeCanvases:','addEventListener','Afbeeldingen/butterfly-2.png','Geluiden/Waveup.mp3','Geluiden/Menu-music.mp3','toFixed','slice','Enter','onended','mozRequestFullScreen','CS_LoopAttack_BL','measureText','enemy2','coop','ArrowLeft','setValueAtTime','altKey','Error\x20handling\x20game\x20resize\x20specifics:','bold\x2012px\x20\x27Press\x20Start\x202P\x27','font','CS3_DiveLoopR_Sharp','returning','createGain','23456202cksFcy','gameCanvas','Escape','in_grid','metaKey','clientX','right','mid_curve_right','normal','clientY','running','KeyL','50XkKnjy','bossHit2Sound','retroGridCanvas','rgba(','39HUUUxV','boss_loop_right','enemy3'];_0x5203=function(){return _0x5ac77e;};return _0x5203();}function scaleValue(_0x537066,_0x5cde7a,_0x34b857){const _0x47fb93=_0x2e1d7f,_0x435d13=Math['max'](0x1,Math[_0x47fb93(0x2d4)](_0x537066,LEVEL_CAP_FOR_SCALING));if(_0x435d13===0x1)return _0x5cde7a;const _0x4ca1f2=(_0x435d13-0x1)/(LEVEL_CAP_FOR_SCALING-0x1);return _0x5cde7a+(_0x34b857-_0x5cde7a)*_0x4ca1f2;}function setupInitialEventListeners(){const _0x16feab=_0x2e1d7f;try{window[_0x16feab(0x24e)](_0x16feab(0x28d),handleGamepadConnected),window[_0x16feab(0x24e)](_0x16feab(0x2da),handleGamepadDisconnected),window[_0x16feab(0x24e)]('resize',resizeCanvases);}catch(_0x19f610){console['error'](_0x16feab(0x24b),_0x19f610);}}function getCurrentGridSlotPosition(_0x2032bf,_0x259c32,_0x344ddc){const _0x44b764=_0x2e1d7f;if(!gameCanvas||gameCanvas[_0x44b764(0x220)]===0x0||_0x2032bf<0x0||_0x259c32<0x0)return{'x':gameCanvas?.['width']/0x2||0xc8,'y':ENEMY_TOP_MARGIN||0x64};const _0x598d4d=ENEMY_WIDTH;let _0x4fbc20=ENEMY_H_SPACING_FIXED,_0x128ae0=ENEMY_V_SPACING;if(GRID_BREATH_ENABLED&&isGridBreathingActive){const _0x3f920e=ENEMY_H_SPACING_FIXED*GRID_BREATH_MAX_EXTRA_H_SPACING_FACTOR*currentGridBreathFactor;_0x4fbc20=ENEMY_H_SPACING_FIXED+_0x3f920e;const _0xc2290a=ENEMY_V_SPACING*GRID_BREATH_MAX_EXTRA_V_SPACING_FACTOR*currentGridBreathFactor;_0x128ae0=ENEMY_V_SPACING+_0xc2290a;}const _0x19f389=GRID_COLS*_0x598d4d+(GRID_COLS-0x1)*_0x4fbc20,_0x28bc1e=Math[_0x44b764(0x200)]((gameCanvas[_0x44b764(0x220)]-_0x19f389)/0x2),_0x38685f=_0x28bc1e+currentGridOffsetX,_0x2da7e8=_0x38685f+_0x259c32*(_0x598d4d+_0x4fbc20),_0xf2b42f=(_0x598d4d-_0x344ddc)/0x2,_0x344f9e=Math['round'](_0x2da7e8+_0xf2b42f),_0x442698=Math[_0x44b764(0x200)](ENEMY_TOP_MARGIN+_0x2032bf*(ENEMY_HEIGHT+ENEMY_V_SPACING));return{'x':_0x344f9e,'y':_0x442698};}function playSound(_0x4dc268,_0x10cd68=![],_0x3be38b=0x1){const _0xa2ea1c=_0x2e1d7f;if(!audioContext||!audioContextInitialized||audioContext[_0xa2ea1c(0x23b)]==='suspended'||!soundBuffers[_0x4dc268])return;if(isShowingPortraitMessage)return;if(isPaused&&_0x4dc268!==_0xa2ea1c(0x29d))return;if(_0x4dc268!==_0xa2ea1c(0x29d)&&_0x4dc268!==_0xa2ea1c(0x2a0))stopSound(_0x4dc268);else{if((_0x4dc268==='menuMusicSound'||_0x4dc268===_0xa2ea1c(0x2a0))&&soundSources[_0x4dc268])return;}const _0x49bb25=audioContext[_0xa2ea1c(0x297)]();_0x49bb25['buffer']=soundBuffers[_0x4dc268],_0x49bb25[_0xa2ea1c(0x23e)]=_0x10cd68;let _0x3a5a2c=soundGainNodes[_0x4dc268];!_0x3a5a2c&&(_0x3a5a2c=audioContext['createGain'](),soundGainNodes[_0x4dc268]=_0x3a5a2c);const _0xae1b19=Math['max'](0x0,Math[_0xa2ea1c(0x2d4)](0x2,_0x3be38b));_0x3a5a2c[_0xa2ea1c(0x203)][_0xa2ea1c(0x25c)](_0xae1b19,audioContext[_0xa2ea1c(0x1d3)]),_0x49bb25['connect'](_0x3a5a2c),_0x3a5a2c[_0xa2ea1c(0x1ef)](audioContext[_0xa2ea1c(0x2b5)]),_0x49bb25[_0xa2ea1c(0x233)](0x0),soundSources[_0x4dc268]=_0x49bb25,_0x49bb25[_0xa2ea1c(0x255)]=()=>{soundSources[_0x4dc268]===_0x49bb25&&delete soundSources[_0x4dc268];};}function stopSound(_0x4cbd7a){const _0x1aeb4b=_0x2e1d7f;if(soundSources[_0x4cbd7a]){const _0x28876b=soundSources[_0x4cbd7a];delete soundSources[_0x4cbd7a];try{_0x28876b&&typeof _0x28876b[_0x1aeb4b(0x255)]===_0x1aeb4b(0x1d7)&&(_0x28876b[_0x1aeb4b(0x255)]=null),_0x28876b[_0x1aeb4b(0x222)](0x0);}catch(_0x2be671){}}}function setVolume(_0x2d8eec,_0x31cdcd){const _0x9bc5b9=_0x2e1d7f;if(!audioContext)return;!soundGainNodes[_0x2d8eec]&&(soundGainNodes[_0x2d8eec]=audioContext[_0x9bc5b9(0x263)](),soundGainNodes[_0x2d8eec][_0x9bc5b9(0x1ef)](audioContext[_0x9bc5b9(0x2b5)]));const _0x249570=Math[_0x9bc5b9(0x2c9)](0x0,Math[_0x9bc5b9(0x2d4)](0x2,_0x31cdcd));soundGainNodes[_0x2d8eec]['gain']['setValueAtTime'](_0x249570,audioContext[_0x9bc5b9(0x1d3)]);}function triggerFullscreen(){const _0x3648f5=_0x2e1d7f;if(!document[_0x3648f5(0x221)]){const _0x4ac245=document[_0x3648f5(0x2be)];let _0x3e6c24=null;if(_0x4ac245[_0x3648f5(0x212)])_0x3e6c24=_0x4ac245['requestFullscreen']();else{if(_0x4ac245[_0x3648f5(0x256)])_0x3e6c24=_0x4ac245[_0x3648f5(0x256)]();else{if(_0x4ac245[_0x3648f5(0x1de)])_0x3e6c24=_0x4ac245['webkitRequestFullscreen']();else _0x4ac245[_0x3648f5(0x2cf)]&&(_0x3e6c24=_0x4ac245[_0x3648f5(0x2cf)]());}}const _0x22664a=()=>{const _0x589c69=_0x3648f5;if(audioContext&&audioContext[_0x589c69(0x23b)]==='suspended')audioContext['resume']()['then'](()=>{const _0x398664=_0x589c69;audioContextInitialized=!![],playSound(_0x398664(0x29d),!![],0.2);})[_0x589c69(0x246)](_0x5b535f=>console[_0x589c69(0x288)](_0x589c69(0x2d0),_0x5b535f));else audioContext&&playSound(_0x589c69(0x29d),!![],0.2);};_0x3e6c24?_0x3e6c24[_0x3648f5(0x295)](()=>{_0x22664a();})[_0x3648f5(0x246)](_0x42dcc9=>{const _0x5a4449=_0x3648f5;console[_0x5a4449(0x288)](_0x5a4449(0x23c)+_0x42dcc9[_0x5a4449(0x29f)]+'\x20('+_0x42dcc9[_0x5a4449(0x1d9)]+')'),_0x22664a();}):(console[_0x3648f5(0x22b)](_0x3648f5(0x216)),_0x22664a());}else{if(audioContext&&audioContext[_0x3648f5(0x23b)]===_0x3648f5(0x279))audioContext['resume']()['then'](()=>{const _0xc069d7=_0x3648f5;audioContextInitialized=!![],playSound(_0xc069d7(0x29d),!![],0.2);});else audioContext&&playSound(_0x3648f5(0x29d),!![],0.2);}}function createStar(){const _0x30954b=_0x2e1d7f;if(!starrySkyCanvas||starrySkyCanvas[_0x30954b(0x220)]===0x0)return null;return{'x':Math[_0x30954b(0x226)]()*starrySkyCanvas[_0x30954b(0x220)],'y':Math['random']()*starrySkyCanvas['height'],'radius':Math[_0x30954b(0x226)]()*(MAX_STAR_RADIUS-MIN_STAR_RADIUS)+MIN_STAR_RADIUS,'alpha':Math['random']()*0.8+0.2,'alphaChange':(Math[_0x30954b(0x226)]()>0.5?0x1:-0x1)*TWINKLE_SPEED*(Math[_0x30954b(0x226)]()*0.5+0.5)};}function createStars(){const _0x476ab6=_0x2e1d7f;stars=[];if(starrySkyCanvas?.[_0x476ab6(0x220)]>0x0&&starrySkyCanvas?.[_0x476ab6(0x2bc)]>0x0)for(let _0x32e0a6=0x0;_0x32e0a6<NUM_STARS;_0x32e0a6++){const _0x390d8b=createStar();if(_0x390d8b)stars[_0x476ab6(0x209)](_0x390d8b);}}function drawStars(){const _0x35ea6f=_0x2e1d7f;try{if(!starryCtx||!starrySkyCanvas||starrySkyCanvas[_0x35ea6f(0x220)]===0x0||starrySkyCanvas[_0x35ea6f(0x2bc)]===0x0)return;const _0x1a7f5b=starrySkyCanvas[_0x35ea6f(0x220)],_0x4411f9=starrySkyCanvas[_0x35ea6f(0x2bc)];starryCtx[_0x35ea6f(0x1da)](0x0,0x0,_0x1a7f5b,_0x4411f9);const _0x293737=Math['round'](_0x4411f9*GRID_HORIZON_Y_FACTOR),_0x4a01a3=_0x4411f9-_0x293737,_0x532dd2=Math[_0x35ea6f(0x2c9)](0x0,_0x293737-_0x4a01a3*STAR_FADE_START_FACTOR_ABOVE_HORIZON),_0x3239b7=_0x293737,_0x8d56ab=Math[_0x35ea6f(0x2c9)](0x1,_0x3239b7-_0x532dd2);stars['forEach'](_0xec34c3=>{const _0x28330f=_0x35ea6f,_0xafdcf9=(_0xec34c3[_0x28330f(0x21c)]-MIN_STAR_RADIUS)/(MAX_STAR_RADIUS-MIN_STAR_RADIUS),_0x2e5c9d=BASE_PARALLAX_SPEED+_0xafdcf9*PARALLAX_SPEED_FACTOR;(!isPaused||isShowingPortraitMessage)&&(_0xec34c3['y']+=_0x2e5c9d);_0xec34c3['y']>_0x4411f9+_0xec34c3['radius']&&(_0xec34c3['y']=-_0xec34c3[_0x28330f(0x21c)]*0x2,_0xec34c3['x']=Math[_0x28330f(0x226)]()*_0x1a7f5b);(!isPaused||isShowingPortraitMessage)&&(_0xec34c3['alpha']+=_0xec34c3[_0x28330f(0x2a8)],(_0xec34c3['alpha']<=0.1||_0xec34c3[_0x28330f(0x299)]>=0x1)&&(_0xec34c3[_0x28330f(0x2a8)]*=-0x1,_0xec34c3[_0x28330f(0x299)]=Math['max'](0.1,Math[_0x28330f(0x2d4)](0x1,_0xec34c3[_0x28330f(0x299)]))));let _0x136da1=_0xec34c3[_0x28330f(0x299)];_0x532dd2>=0x0&&_0xec34c3['y']>_0x532dd2&&(_0xec34c3['y']>=_0x293737?_0x136da1=0x0:_0x136da1*=0x1-Math[_0x28330f(0x2d4)](0x1,Math[_0x28330f(0x2c9)](0x0,(_0xec34c3['y']-_0x532dd2)/_0x8d56ab))),_0x136da1=Math['max'](0x0,Math[_0x28330f(0x2d4)](0x1,_0x136da1)),_0x136da1>0.01&&(starryCtx[_0x28330f(0x248)](),starryCtx[_0x28330f(0x2c4)](Math['round'](_0xec34c3['x']),Math['round'](_0xec34c3['y']),_0xec34c3[_0x28330f(0x21c)],0x0,Math['PI']*0x2),starryCtx[_0x28330f(0x2ac)]='rgba(255,\x20255,\x20255,\x20'+_0x136da1['toFixed'](0x3)+')',starryCtx[_0x28330f(0x227)]());});}catch(_0x22d78b){console[_0x35ea6f(0x288)](_0x35ea6f(0x235),_0x22d78b);if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null;}}function drawRetroGrid(){const _0x18e4ea=_0x2e1d7f;try{if(!retroGridCtx||!retroGridCanvas||retroGridCanvas[_0x18e4ea(0x220)]===0x0||retroGridCanvas[_0x18e4ea(0x2bc)]===0x0)return;(!isPaused||isShowingPortraitMessage)&&(gridOffsetY-=GRID_SPEED);const _0x1c00bf=retroGridCanvas[_0x18e4ea(0x220)],_0x4f9043=retroGridCanvas['height'];retroGridCtx[_0x18e4ea(0x1da)](0x0,0x0,_0x1c00bf,_0x4f9043);const _0x2f1721=Math[_0x18e4ea(0x200)](_0x4f9043*GRID_HORIZON_Y_FACTOR),_0x190185=_0x1c00bf/0x2,_0x5abd54=_0x4f9043-_0x2f1721;retroGridCtx[_0x18e4ea(0x215)]=GRID_LINE_WIDTH;const _0x33446c=_0x1c00bf*GRID_HORIZONTAL_LINE_WIDTH_FACTOR,_0xcaf9fa=_0x190185-_0x33446c/0x2,_0x594f0d=_0x190185+_0x33446c/0x2,_0x2deebd=_0x2f1721+_0x5abd54*0.1,_0x50ca83=_0x4f9043,_0x2c9ce2=Math['max'](0x1,_0x50ca83-_0x2deebd);retroGridCtx[_0x18e4ea(0x27b)]=GRID_LINE_COLOR_FIXED,retroGridCtx[_0x18e4ea(0x248)](),retroGridCtx[_0x18e4ea(0x278)](_0xcaf9fa,_0x2f1721),retroGridCtx[_0x18e4ea(0x2ad)](_0x594f0d,_0x2f1721),retroGridCtx[_0x18e4ea(0x22d)]();let _0x328c78=gridOffsetY%GRID_BASE_SPACING;_0x328c78>0x0&&(_0x328c78-=GRID_BASE_SPACING);let _0x1cefef=_0x2f1721-_0x328c78;if(_0x1cefef<=_0x2f1721)_0x1cefef+=GRID_BASE_SPACING;while(_0x1cefef<_0x4f9043+GRID_BASE_SPACING){let _0x280f11=Math['max'](0x0,Math['min'](0x1,(_0x1cefef-_0x2f1721)/_0x5abd54));if(_0x1cefef>_0x2f1721&&_0x1cefef<=_0x4f9043+GRID_LINE_WIDTH*0x2){let _0x196c0c;if(_0x1cefef<=_0x2deebd)_0x196c0c=GRID_MIN_ALPHA;else{if(_0x1cefef>=_0x50ca83)_0x196c0c=GRID_BASE_ALPHA;else{const _0x45c69d=(_0x1cefef-_0x2deebd)/_0x2c9ce2;_0x196c0c=GRID_MIN_ALPHA+(GRID_BASE_ALPHA-GRID_MIN_ALPHA)*_0x45c69d;}}_0x196c0c=Math['max'](0x0,Math[_0x18e4ea(0x2d4)](GRID_BASE_ALPHA,_0x196c0c)),_0x196c0c>0.01&&(retroGridCtx[_0x18e4ea(0x27b)]='rgba('+GRID_RGB_PART+',\x20'+_0x196c0c[_0x18e4ea(0x252)](0x3)+')',retroGridCtx[_0x18e4ea(0x248)](),retroGridCtx[_0x18e4ea(0x278)](_0xcaf9fa,Math[_0x18e4ea(0x200)](_0x1cefef)),retroGridCtx[_0x18e4ea(0x2ad)](_0x594f0d,Math[_0x18e4ea(0x200)](_0x1cefef)),retroGridCtx['stroke']());}let _0x2d96b7=GRID_BASE_SPACING*Math['pow'](0x1+_0x280f11*1.5,GRID_SPACING_POWER);_0x1cefef+=Math[_0x18e4ea(0x2c9)](0x1,_0x2d96b7);}retroGridCtx['strokeStyle']=GRID_LINE_COLOR_FIXED,retroGridCtx[_0x18e4ea(0x248)]();const _0x26b910=Math[_0x18e4ea(0x20f)](GRID_NUM_PERSPECTIVE_LINES/0x2),_0x267a03=_0x1c00bf*GRID_HORIZON_SPREAD_FACTOR,_0xf39a1a=_0x1c00bf*GRID_BOTTOM_SPREAD_FACTOR;for(let _0x5c786a=0x0;_0x5c786a<=_0x26b910;_0x5c786a++){let _0x2979d9=Math[_0x18e4ea(0x1d4)](_0x5c786a/_0x26b910,GRID_PERSPECTIVE_POWER),_0x444faf=_0x190185+_0x2979d9*(_0x267a03/0x2),_0x39cb58=_0x190185-_0x2979d9*(_0x267a03/0x2),_0x5e31ff=_0x190185+_0x2979d9*(_0xf39a1a/0x2),_0x50f934=_0x190185-_0x2979d9*(_0xf39a1a/0x2);retroGridCtx[_0x18e4ea(0x278)](_0x444faf,_0x2f1721),retroGridCtx['lineTo'](_0x5e31ff,_0x4f9043),_0x5c786a>0x0&&(retroGridCtx[_0x18e4ea(0x278)](_0x39cb58,_0x2f1721),retroGridCtx['lineTo'](_0x50f934,_0x4f9043));}retroGridCtx[_0x18e4ea(0x22d)]();}catch(_0x27eae3){console[_0x18e4ea(0x288)](_0x18e4ea(0x21f),_0x27eae3);}}function calculateBezierPoint(_0x20fd86,_0x17c0f5,_0xa835b9,_0x59e8f3,_0x24ab25){const _0x1f7976=0x1-_0x20fd86,_0x3d4e06=_0x20fd86*_0x20fd86,_0x3dbb19=_0x1f7976*_0x1f7976,_0x313c0b=_0x3dbb19*_0x1f7976,_0x23fab5=_0x3d4e06*_0x20fd86;let _0x126b42=_0x313c0b*_0x17c0f5;return _0x126b42+=0x3*_0x3dbb19*_0x20fd86*_0xa835b9,_0x126b42+=0x3*_0x1f7976*_0x3d4e06*_0x59e8f3,_0x126b42+=_0x23fab5*_0x24ab25,_0x126b42;}function defineNormalWaveEntrancePaths(){const _0x430e9d=_0x2e1d7f;normalWaveEntrancePaths={};const _0x1215bf=gameCanvas?.[_0x430e9d(0x220)],_0x3217e5=gameCanvas?.[_0x430e9d(0x2bc)];if(!_0x1215bf||!_0x3217e5||_0x1215bf===0x0){console['error'](_0x430e9d(0x21d));return;}const _0x1cefa7=_0x1215bf/0x320,_0x4dd418=_0x3217e5/0x258,_0x4a5505=-Math[_0x430e9d(0x2c9)](ENEMY1_HEIGHT,ENEMY_HEIGHT)*1.5,_0x321ebc=_0x1215bf/0x2,_0x273d71=-0x19,_0x23fd92=ENEMY_WIDTH,_0x113a00=ENEMY_H_SPACING_FIXED,_0x1901c1=GRID_COLS*_0x23fd92+(GRID_COLS-0x1)*_0x113a00,_0x184df9=Math[_0x430e9d(0x200)]((_0x1215bf-_0x1901c1)/0x2),_0x420b11=_0x184df9+0x4*(_0x23fd92+_0x113a00)+_0x23fd92/0x2,_0x3734ef=_0x184df9+0x5*(_0x23fd92+_0x113a00)+_0x23fd92/0x2,_0x54a307=(_0x420b11+_0x3734ef)/0x2+_0x273d71,_0x594a58=Math['round'](ENEMY_TOP_MARGIN+0x1*(ENEMY_HEIGHT+ENEMY_V_SPACING)),_0x1e429b=_0x594a58+0x3c*_0x4dd418,_0x2e1b2e=[{'p0':{'x':0x50/0x190*0x320*_0x1cefa7+_0x273d71,'y':_0x4a5505},'p1':{'x':0x1b8/0x190*0x320*_0x1cefa7+_0x273d71,'y':0x8c/0x12c*0x258*_0x4dd418},'p2':{'x':0x104/0x190*0x320*_0x1cefa7+_0x273d71,'y':0x154/0x12c*0x258*_0x4dd418},'p3':{'x':_0x54a307,'y':_0x1e429b}}];normalWaveEntrancePaths[_0x430e9d(0x204)]=_0x2e1b2e;const _0x2e28c2=_0x2e1b2e[_0x430e9d(0x1c6)](_0x4912a9=>({'p0':{'x':_0x1215bf-(_0x4912a9['p0']['x']-_0x273d71)+_0x273d71,'y':_0x4912a9['p0']['y']},'p1':{'x':_0x1215bf-(_0x4912a9['p1']['x']-_0x273d71)+_0x273d71,'y':_0x4912a9['p1']['y']},'p2':{'x':_0x1215bf-(_0x4912a9['p2']['x']-_0x273d71)+_0x273d71,'y':_0x4912a9['p2']['y']},'p3':{'x':_0x54a307,'y':_0x4912a9['p3']['y']}}));normalWaveEntrancePaths['new_path_right']=_0x2e28c2;const _0x5621d4=_0x48345=>{const _0x254dea=_0x430e9d,_0x591c2c=_0x48345?_0x254dea(0x275):_0x254dea(0x22f),_0x4efac8=_0x1f8bf1=>_0x48345?_0x1215bf-_0x1f8bf1:_0x1f8bf1,_0x311966=0x82*_0x4dd418,_0x8659f6=0x50*_0x1cefa7,_0x3a4ab0=0x12c*_0x1cefa7,_0x81659f=0x12c*_0x4dd418,_0x5010fc=_0x3a4ab0+_0x8659f6,_0x146037=_0x81659f,_0x525c7c=_0x4efac8(-0x64*_0x1cefa7),_0x2a0909=(0x15e+_0x311966)*_0x4dd418,_0x4015df=ENEMY_TOP_MARGIN-0x14,_0x2294b6={'x':_0x525c7c,'y':_0x2a0909},_0x59c3bc={'x':_0x4efac8(_0x5010fc),'y':_0x81659f},_0x47aceb={'x':_0x4efac8(_0x3a4ab0),'y':_0x81659f-_0x8659f6},_0x32fbf3={'x':_0x4efac8(_0x3a4ab0-_0x8659f6),'y':_0x81659f},_0x3d2895={'x':_0x4efac8(_0x3a4ab0),'y':_0x81659f+_0x8659f6},_0x4ed34b={'x':_0x59c3bc['x'],'y':_0x4015df},_0x366ba0=0.25,_0x4676e9=Math[_0x254dea(0x247)](_0x59c3bc['y']-_0x2a0909,_0x59c3bc['x']-_0x525c7c),_0x47b8f8={'x':_0x59c3bc['x']-Math[_0x254dea(0x2d6)](_0x4676e9)*_0x8659f6*_0x366ba0,'y':_0x59c3bc['y']-Math[_0x254dea(0x27f)](_0x4676e9)*_0x8659f6*_0x366ba0},_0x2a90b7={'x':(_0x2294b6['x']+_0x47b8f8['x'])/0x2,'y':(_0x2294b6['y']+_0x47b8f8['y'])/0x2},_0x41e390={'x':_0x59c3bc['x'],'y':(_0x59c3bc['y']+_0x4ed34b['y'])/0x2},_0x216586=0.552284749831,_0x5f5036=_0x8659f6*_0x216586,_0x2183b1=_0x8659f6*_0x216586;let _0x501376=[];_0x501376[_0x254dea(0x209)]({'p0':_0x2294b6,'p1':{'x':_0x2294b6['x']+(_0x2a90b7['x']-_0x2294b6['x'])*0.33,'y':_0x2294b6['y']+(_0x2a90b7['y']-_0x2294b6['y'])*0.33},'p2':{'x':_0x2294b6['x']+(_0x2a90b7['x']-_0x2294b6['x'])*0.66,'y':_0x2294b6['y']+(_0x2a90b7['y']-_0x2294b6['y'])*0.66},'p3':_0x2a90b7}),_0x501376[_0x254dea(0x209)]({'p0':_0x2a90b7,'p1':{'x':_0x2a90b7['x']+(_0x47b8f8['x']-_0x2a90b7['x'])*0.33,'y':_0x2a90b7['y']+(_0x47b8f8['y']-_0x2a90b7['y'])*0.33},'p2':{'x':_0x2a90b7['x']+(_0x47b8f8['x']-_0x2a90b7['x'])*0.66,'y':_0x2a90b7['y']+(_0x47b8f8['y']-_0x2a90b7['y'])*0.66},'p3':_0x47b8f8});const _0x24c497={'x':_0x47b8f8['x']+(_0x47b8f8['x']-_0x2a90b7['x'])*0.3,'y':_0x47b8f8['y']+(_0x47b8f8['y']-_0x2a90b7['y'])*0.3},_0x37e759={'x':_0x4efac8(_0x3a4ab0+_0x5f5036),'y':_0x47aceb['y']};return _0x501376[_0x254dea(0x209)]({'p0':_0x47b8f8,'p1':_0x24c497,'p2':_0x37e759,'p3':_0x47aceb}),_0x501376[_0x254dea(0x209)]({'p0':_0x47aceb,'p1':{'x':_0x4efac8(_0x3a4ab0-_0x5f5036),'y':_0x47aceb['y']},'p2':{'x':_0x32fbf3['x'],'y':_0x32fbf3['y']-_0x2183b1},'p3':_0x32fbf3}),_0x501376[_0x254dea(0x209)]({'p0':_0x32fbf3,'p1':{'x':_0x32fbf3['x'],'y':_0x32fbf3['y']+_0x2183b1},'p2':{'x':_0x4efac8(_0x3a4ab0-_0x5f5036),'y':_0x3d2895['y']},'p3':_0x3d2895}),_0x501376[_0x254dea(0x209)]({'p0':_0x3d2895,'p1':{'x':_0x4efac8(_0x3a4ab0+_0x5f5036),'y':_0x3d2895['y']},'p2':{'x':_0x59c3bc['x'],'y':_0x59c3bc['y']+_0x2183b1},'p3':_0x59c3bc}),_0x501376[_0x254dea(0x209)]({'p0':_0x59c3bc,'p1':{'x':_0x59c3bc['x']+(_0x41e390['x']-_0x59c3bc['x'])*0.33,'y':_0x59c3bc['y']+(_0x41e390['y']-_0x59c3bc['y'])*0.33},'p2':{'x':_0x59c3bc['x']+(_0x41e390['x']-_0x59c3bc['x'])*0.66,'y':_0x59c3bc['y']+(_0x41e390['y']-_0x59c3bc['y'])*0.66},'p3':_0x41e390}),_0x501376[_0x254dea(0x209)]({'p0':_0x41e390,'p1':{'x':_0x41e390['x']+(_0x4ed34b['x']-_0x41e390['x'])*0.33,'y':_0x41e390['y']+(_0x4ed34b['y']-_0x41e390['y'])*0.33},'p2':{'x':_0x41e390['x']+(_0x4ed34b['x']-_0x41e390['x'])*0.66,'y':_0x41e390['y']+(_0x4ed34b['y']-_0x41e390['y'])*0.66},'p3':_0x4ed34b}),_0x501376;};normalWaveEntrancePaths[_0x430e9d(0x22f)]=_0x5621d4(![]),normalWaveEntrancePaths[_0x430e9d(0x275)]=_0x5621d4(!![]);const _0x2edcdd=0x2ee,_0x550e89=0x15e*_0x4dd418,_0x45a44c={'x':_0x321ebc,'y':_0x4a5505},_0x179493={'x':(_0x321ebc+(0x2ee-0x190)*(0x2/0x3))*_0x1cefa7,'y':(-0x32+(_0x2edcdd- -0x32)*(0x2/0x3))*_0x4dd418},_0x38b7b8={'x':(0x190+(0x2ee-0x190)*(0x1/0x3))*_0x1cefa7,'y':(_0x550e89+(_0x2edcdd-_0x550e89)*(0x1/0x3))*_0x4dd418},_0xdb1152={'x':_0x321ebc,'y':_0x550e89};normalWaveEntrancePaths[_0x430e9d(0x26b)]=[{'p0':_0x45a44c,'p1':_0x179493,'p2':_0x38b7b8,'p3':_0xdb1152}];const _0x1ce437={'x':_0x321ebc,'y':_0x4a5505},_0xa37d88={'x':_0x1215bf-_0x179493['x'],'y':_0x179493['y']},_0x570ba4={'x':_0x1215bf-_0x38b7b8['x'],'y':_0x38b7b8['y']},_0x3baca5={'x':_0x321ebc,'y':_0x550e89};normalWaveEntrancePaths[_0x430e9d(0x21e)]=[{'p0':_0x1ce437,'p1':_0xa37d88,'p2':_0x570ba4,'p3':_0x3baca5}];for(const _0x16b447 in normalWaveEntrancePaths){if(!Array[_0x430e9d(0x1e8)](normalWaveEntrancePaths[_0x16b447])){console['error']('Normal\x20Wave\x20Path\x20'+_0x16b447+_0x430e9d(0x1ee)),normalWaveEntrancePaths[_0x16b447]=[{'p0':{'x':_0x1215bf/0x2,'y':_0x4a5505},'p1':{'x':_0x1215bf/0x2,'y':_0x3217e5/0x3},'p2':{'x':_0x1215bf/0x2,'y':_0x3217e5*0x2/0x3},'p3':{'x':_0x1215bf/0x2,'y':ENEMY_TOP_MARGIN}}];continue;}normalWaveEntrancePaths[_0x16b447]=normalWaveEntrancePaths[_0x16b447][_0x430e9d(0x280)](_0x124d4b=>_0x124d4b?.['p0']&&_0x124d4b?.['p1']&&_0x124d4b?.['p2']&&_0x124d4b?.['p3']&&typeof _0x124d4b['p0']['x']===_0x430e9d(0x232)&&typeof _0x124d4b['p0']['y']===_0x430e9d(0x232)&&typeof _0x124d4b['p1']['x']===_0x430e9d(0x232)&&typeof _0x124d4b['p1']['y']===_0x430e9d(0x232)&&typeof _0x124d4b['p2']['x']==='number'&&typeof _0x124d4b['p2']['y']==='number'&&typeof _0x124d4b['p3']['x']===_0x430e9d(0x232)&&typeof _0x124d4b['p3']['y']===_0x430e9d(0x232)&&!isNaN(_0x124d4b['p0']['x']+_0x124d4b['p0']['y']+_0x124d4b['p1']['x']+_0x124d4b['p1']['y']+_0x124d4b['p2']['x']+_0x124d4b['p2']['y']+_0x124d4b['p3']['x']+_0x124d4b['p3']['y'])),normalWaveEntrancePaths[_0x16b447]['length']===0x0&&(console[_0x430e9d(0x288)](_0x430e9d(0x2c6)+_0x16b447+'\x20empty\x20after\x20validation!\x20Using\x20basic\x20fallback.'),normalWaveEntrancePaths[_0x16b447]=[{'p0':{'x':_0x1215bf/0x2,'y':_0x4a5505},'p1':{'x':_0x1215bf/0x2,'y':_0x3217e5/0x3},'p2':{'x':_0x1215bf/0x2,'y':_0x3217e5*0x2/0x3},'p3':{'x':_0x1215bf/0x2,'y':ENEMY_TOP_MARGIN}}]);}}function defineChallengingStagePaths(){const _0x5a23ba=_0x2e1d7f;challengingStagePaths={};const _0x5c9818=gameCanvas?.[_0x5a23ba(0x220)],_0x36e0d1=gameCanvas?.[_0x5a23ba(0x2bc)];if(!_0x5c9818||!_0x36e0d1||_0x5c9818===0x0){console[_0x5a23ba(0x288)](_0x5a23ba(0x291));return;}const _0x2937a9=ENEMY_WIDTH,_0x14c6ad=ENEMY_HEIGHT,_0x315db9=-_0x14c6ad*1.5,_0x5b30c5=_0x36e0d1+_0x14c6ad*0x2,_0x5b9b55=-_0x2937a9*1.5,_0x1d9cc2=_0x5c9818+_0x2937a9*1.5,_0x7e0c04=_0x5c9818/0x2,_0x18b825=_0x36e0d1/0x2,_0x37f295=-0x1c,_0x25fefd=(_0x1bf4fa,_0x1b5fc9)=>{const _0x122500=_0x5a23ba;return _0x1bf4fa[_0x122500(0x1c6)](_0x514212=>{const _0x1db043=_0x122500,_0x4e948f=JSON[_0x1db043(0x2d9)](JSON[_0x1db043(0x1f8)](_0x514212));if(_0x4e948f['p0']&&typeof _0x4e948f['p0']['x']===_0x1db043(0x232))_0x4e948f['p0']['x']+=_0x1b5fc9;if(_0x4e948f['p1']&&typeof _0x4e948f['p1']['x']==='number')_0x4e948f['p1']['x']+=_0x1b5fc9;if(_0x4e948f['p2']&&typeof _0x4e948f['p2']['x']==='number')_0x4e948f['p2']['x']+=_0x1b5fc9;return _0x4e948f['p3']&&typeof _0x4e948f['p3']['x']===_0x1db043(0x232)&&_0x4e948f['p3']['x']!==_0x5b9b55&&_0x4e948f['p3']['x']!==_0x1d9cc2&&(_0x4e948f['p3']['x']+=_0x1b5fc9),_0x4e948f;});},_0x334275=37.8/0x320*0.3,_0x4d06f4=0.5-_0x334275,_0x4f4795=0x1c2/0x258,_0x45b3f9=0.49,_0x320e44=0x258/0x258,_0x18d367=0.48,_0x44439d=0x12c/0x258,_0x2f481b=_0x5c9818*_0x4d06f4,_0x1b974e=_0x36e0d1*_0x4f4795,_0x416e0d=_0x5c9818*_0x45b3f9,_0x2ae50a=_0x36e0d1*Math[_0x5a23ba(0x2d4)](0x1,_0x320e44),_0x3e16b7=_0x5c9818*_0x18d367,_0x4f4f0a=_0x36e0d1*_0x44439d,_0x3217b4=_0x5b9b55,_0x39b088=_0x315db9,_0x7b787={'x':_0x2f481b,'y':_0x315db9},_0x199846={'x':_0x2f481b,'y':_0x1b974e},_0x21940a={'x':_0x2f481b,'y':_0x315db9+(_0x1b974e-_0x315db9)*0.33},_0x531d0b={'x':_0x2f481b,'y':_0x315db9+(_0x1b974e-_0x315db9)*0.66},_0x26b190=_0x199846,_0x2d69ee={'x':_0x416e0d,'y':_0x2ae50a},_0xb5e348={'x':_0x3e16b7,'y':_0x4f4f0a},_0x3f3425={'x':_0x3217b4,'y':_0x39b088},_0x31499f=[{'p0':_0x7b787,'p1':_0x21940a,'p2':_0x531d0b,'p3':_0x199846},{'p0':_0x26b190,'p1':_0x2d69ee,'p2':_0xb5e348,'p3':_0x3f3425}],_0x1311dc=_0x31499f['map'](_0x3cd99e=>({'p0':{'x':_0x5c9818-_0x3cd99e['p0']['x'],'y':_0x3cd99e['p0']['y']},'p1':{'x':_0x5c9818-_0x3cd99e['p1']['x'],'y':_0x3cd99e['p1']['y']},'p2':{'x':_0x5c9818-_0x3cd99e['p2']['x'],'y':_0x3cd99e['p2']['y']},'p3':{'x':_0x3cd99e['p3']['x']===_0x5b9b55?_0x1d9cc2:_0x5c9818-_0x3cd99e['p3']['x'],'y':_0x3cd99e['p3']['y']}}));challengingStagePaths['CS3_DiveLoopL_Sharp']=_0x25fefd(_0x31499f,_0x37f295),challengingStagePaths[_0x5a23ba(0x261)]=_0x25fefd(_0x1311dc,_0x37f295);const _0x44caa8=_0x36e0d1*0.7,_0x5a0986=_0x36e0d1*0.03,_0x43af30=_0x5c9818*0.15;challengingStagePaths['CS_HorizontalFlyByL']=[{'p0':{'x':_0x5b9b55,'y':_0x44caa8},'p1':{'x':_0x5b9b55+_0x43af30,'y':_0x44caa8-_0x5a0986},'p2':{'x':_0x1d9cc2-_0x43af30,'y':_0x44caa8+_0x5a0986},'p3':{'x':_0x1d9cc2,'y':_0x44caa8}}],challengingStagePaths[_0x5a23ba(0x231)]=[{'p0':{'x':_0x1d9cc2,'y':_0x44caa8},'p1':{'x':_0x1d9cc2-_0x43af30,'y':_0x44caa8-_0x5a0986},'p2':{'x':_0x5b9b55+_0x43af30,'y':_0x44caa8+_0x5a0986},'p3':{'x':_0x5b9b55,'y':_0x44caa8}}];const _0x29b7fa=_0x36e0d1*0.8,_0x1e7a97=_0x36e0d1*0.55,_0x32524e=_0x36e0d1*0.15;challengingStagePaths[_0x5a23ba(0x2c2)]=[{'p0':{'x':_0x5c9818*0.1,'y':_0x315db9},'p1':{'x':_0x5c9818*0.2,'y':_0x36e0d1*0.2},'p2':{'x':_0x5c9818*0.6,'y':_0x29b7fa},'p3':{'x':_0x5c9818*0.7,'y':_0x29b7fa}},{'p0':{'x':_0x5c9818*0.7,'y':_0x29b7fa},'p1':{'x':_0x5c9818*0.8,'y':_0x29b7fa},'p2':{'x':_0x5c9818*0.8,'y':_0x1e7a97},'p3':{'x':_0x5c9818*0.7,'y':_0x1e7a97}},{'p0':{'x':_0x5c9818*0.7,'y':_0x1e7a97},'p1':{'x':_0x5c9818*0.6,'y':_0x1e7a97},'p2':{'x':_0x1d9cc2,'y':_0x32524e},'p3':{'x':_0x1d9cc2,'y':_0x32524e+_0x36e0d1*0.1}}],challengingStagePaths[_0x5a23ba(0x1e9)]=[{'p0':{'x':_0x5c9818*0.9,'y':_0x315db9},'p1':{'x':_0x5c9818*0.8,'y':_0x36e0d1*0.2},'p2':{'x':_0x5c9818*0.4,'y':_0x29b7fa},'p3':{'x':_0x5c9818*0.3,'y':_0x29b7fa}},{'p0':{'x':_0x5c9818*0.3,'y':_0x29b7fa},'p1':{'x':_0x5c9818*0.2,'y':_0x29b7fa},'p2':{'x':_0x5c9818*0.2,'y':_0x1e7a97},'p3':{'x':_0x5c9818*0.3,'y':_0x1e7a97}},{'p0':{'x':_0x5c9818*0.3,'y':_0x1e7a97},'p1':{'x':_0x5c9818*0.4,'y':_0x1e7a97},'p2':{'x':_0x5b9b55,'y':_0x32524e},'p3':{'x':_0x5b9b55,'y':_0x32524e+_0x36e0d1*0.1}}],challengingStagePaths[_0x5a23ba(0x257)]=[{'p0':{'x':_0x5b9b55,'y':_0x36e0d1*0.6},'p1':{'x':_0x5c9818*0.1,'y':_0x36e0d1*0.4},'p2':{'x':_0x5c9818*0.6,'y':_0x36e0d1*0.2},'p3':{'x':_0x7e0c04,'y':_0x36e0d1*0.3}},{'p0':{'x':_0x7e0c04,'y':_0x36e0d1*0.3},'p1':{'x':_0x5c9818*0.4,'y':_0x36e0d1*0.4},'p2':{'x':_0x5c9818*0.3,'y':_0x29b7fa*0.9},'p3':{'x':_0x5c9818*0.4,'y':_0x29b7fa}},{'p0':{'x':_0x5c9818*0.4,'y':_0x29b7fa},'p1':{'x':_0x5c9818*0.5,'y':_0x29b7fa*1.05},'p2':{'x':_0x7e0c04,'y':_0x315db9},'p3':{'x':_0x7e0c04+_0x5c9818*0.1,'y':_0x315db9}}],challengingStagePaths[_0x5a23ba(0x2a2)]=[{'p0':{'x':_0x1d9cc2,'y':_0x36e0d1*0.6},'p1':{'x':_0x5c9818*0.9,'y':_0x36e0d1*0.4},'p2':{'x':_0x5c9818*0.4,'y':_0x36e0d1*0.2},'p3':{'x':_0x7e0c04,'y':_0x36e0d1*0.3}},{'p0':{'x':_0x7e0c04,'y':_0x36e0d1*0.3},'p1':{'x':_0x5c9818*0.6,'y':_0x36e0d1*0.4},'p2':{'x':_0x5c9818*0.7,'y':_0x29b7fa*0.9},'p3':{'x':_0x5c9818*0.6,'y':_0x29b7fa}},{'p0':{'x':_0x5c9818*0.6,'y':_0x29b7fa},'p1':{'x':_0x5c9818*0.5,'y':_0x29b7fa*1.05},'p2':{'x':_0x7e0c04,'y':_0x315db9},'p3':{'x':_0x7e0c04-_0x5c9818*0.1,'y':_0x315db9}}];for(const _0x5c43f7 in challengingStagePaths){challengingStagePaths[_0x5c43f7]=challengingStagePaths[_0x5c43f7][_0x5a23ba(0x280)](_0x56f146=>_0x56f146?.['p0']&&_0x56f146?.['p1']&&_0x56f146?.['p2']&&_0x56f146?.['p3']&&!isNaN(_0x56f146['p0']['x']+_0x56f146['p0']['y']+_0x56f146['p1']['x']+_0x56f146['p1']['y']+_0x56f146['p2']['x']+_0x56f146['p2']['y']+_0x56f146['p3']['x']+_0x56f146['p3']['y'])),challengingStagePaths[_0x5c43f7][_0x5a23ba(0x2cb)]===0x0&&(console[_0x5a23ba(0x288)]('CS\x20Path\x20'+_0x5c43f7+'\x20empty\x20after\x20validation!\x20Adding\x20fallback.'),challengingStagePaths[_0x5c43f7]=[{'p0':{'x':_0x5c9818/0x2,'y':_0x315db9},'p1':{'x':_0x5c9818/0x2,'y':_0x36e0d1/0x3},'p2':{'x':_0x5c9818/0x2,'y':_0x36e0d1*0x2/0x3},'p3':{'x':_0x5c9818/0x2,'y':_0x5b30c5}}]);}}function resizeCanvases(){const _0x10c422=_0x2e1d7f;try{const _0x36b265=window[_0x10c422(0x2b0)],_0x517ee4=window[_0x10c422(0x1f7)];if(_0x36b265<=0x0||_0x517ee4<=0x0)return;let _0x526bbd=_0x517ee4>_0x36b265;if(_0x526bbd){if(!isShowingPortraitMessage){isShowingPortraitMessage=!![];if(isInGameState&&!isPaused)gameWasAutoPausedForPortrait=!![],togglePause();else(!isInGameState||isPaused)&&pauseAllSounds();}}else{if(isShowingPortraitMessage){isShowingPortraitMessage=![];if(gameWasAutoPausedForPortrait&&isPaused)togglePause();else!isInGameState&&!isPaused&&resumeAllSounds();gameWasAutoPausedForPortrait=![];}}starrySkyCanvas&&(starrySkyCanvas[_0x10c422(0x220)]!==_0x36b265||starrySkyCanvas['height']!==_0x517ee4)&&(starrySkyCanvas[_0x10c422(0x220)]=_0x36b265,starrySkyCanvas[_0x10c422(0x2bc)]=_0x517ee4,createStars());retroGridCanvas&&(retroGridCanvas[_0x10c422(0x220)]!==_0x36b265||retroGridCanvas[_0x10c422(0x2bc)]!==_0x517ee4)&&(retroGridCanvas[_0x10c422(0x220)]=_0x36b265,retroGridCanvas[_0x10c422(0x2bc)]=_0x517ee4);if(gameCanvas&&(gameCanvas['width']!==_0x36b265||gameCanvas['height']!==_0x517ee4)){const _0x31b877=gameCanvas[_0x10c422(0x220)];gameCanvas['width']=_0x36b265,gameCanvas['height']=_0x517ee4,defineNormalWaveEntrancePaths(),defineChallengingStagePaths(),isInGameState&&handleResizeGameElements(_0x31b877,_0x36b265,_0x517ee4);}else(!gameCanvas?.[_0x10c422(0x220)]||!gameCanvas?.[_0x10c422(0x2bc)])&&(defineNormalWaveEntrancePaths(),defineChallengingStagePaths());}catch(_0x1a4d9b){console[_0x10c422(0x288)](_0x10c422(0x24d),_0x1a4d9b);}}function handleResizeGameElements(_0x2642b6,_0x25ab2c,_0x477128){const _0x141315=_0x2e1d7f;try{currentGridOffsetX=0x0,ship&&(_0x2642b6>0x0&&_0x25ab2c>0x0&&typeof ship['x']!==_0x141315(0x2a1)?ship['x']=ship['x']/_0x2642b6*_0x25ab2c:ship['x']=_0x25ab2c/0x2-ship[_0x141315(0x220)]/0x2,ship['x']=Math[_0x141315(0x2c9)](0x0,Math[_0x141315(0x2d4)](_0x25ab2c-ship[_0x141315(0x220)],ship['x'])),ship['y']=_0x477128-SHIP_HEIGHT-SHIP_BOTTOM_MARGIN,ship[_0x141315(0x284)]=ship['x']),enemies[_0x141315(0x289)](_0x3957c7=>{const _0x123258=_0x141315;if(_0x3957c7&&(_0x3957c7[_0x123258(0x23b)]===_0x123258(0x267)||_0x3957c7[_0x123258(0x23b)]==='returning'||_0x3957c7[_0x123258(0x23b)]==='moving_to_grid'))try{const _0x5737ca=_0x3957c7[_0x123258(0x211)]===ENEMY3_TYPE?BOSS_WIDTH:_0x3957c7['type']===ENEMY1_TYPE?ENEMY1_WIDTH:ENEMY_WIDTH,{x:_0x505b61,y:_0x564e91}=getCurrentGridSlotPosition(_0x3957c7[_0x123258(0x27c)],_0x3957c7['gridCol'],_0x5737ca);_0x3957c7['targetGridX']=_0x505b61,_0x3957c7['targetGridY']=_0x564e91,_0x3957c7[_0x123258(0x23b)]==='in_grid'&&(_0x3957c7['x']=_0x505b61,_0x3957c7['y']=_0x564e91);}catch(_0x2cbd80){console[_0x123258(0x288)](_0x123258(0x20e)+_0x3957c7['id']+'\x20on\x20resize:',_0x2cbd80),(_0x3957c7[_0x123258(0x23b)]===_0x123258(0x267)||_0x3957c7['state']===_0x123258(0x1ec)||_0x3957c7['state']===_0x123258(0x262))&&(_0x3957c7['x']=_0x25ab2c/0x2,_0x3957c7['y']=ENEMY_TOP_MARGIN+_0x3957c7[_0x123258(0x27c)]*(ENEMY_HEIGHT+ENEMY_V_SPACING),_0x3957c7['targetGridX']=_0x3957c7['x'],_0x3957c7['targetGridY']=_0x3957c7['y']);}});}catch(_0x5acd02){console[_0x141315(0x288)](_0x141315(0x25e),_0x5acd02);}}let lastTapArea=null,lastTapTimestamp=0x0;const DOUBLE_TAP_MAX_INTERVAL=0x12c,SCORE_AREA_TAP_MARGIN=0x1e;function handleTouchStartGlobal(_0x1e1ad1){const _0x42a6bb=_0x2e1d7f;_0x1e1ad1[_0x42a6bb(0x1eb)]();audioContext&&audioContext[_0x42a6bb(0x23b)]==='suspended'&&audioContext[_0x42a6bb(0x1cb)]()['then'](()=>{const _0x2d3b93=_0x42a6bb;audioContextInitialized=!![],console[_0x2d3b93(0x1df)]('AudioContext\x20resumed\x20by\x20touchstart.');});if(_0x1e1ad1['touches'][_0x42a6bb(0x2cb)]>0x0){const _0x4b3e63=_0x1e1ad1[_0x42a6bb(0x296)][0x0];touchStartX=_0x4b3e63[_0x42a6bb(0x269)],touchStartY=_0x4b3e63[_0x42a6bb(0x26d)],touchCurrentX=_0x4b3e63[_0x42a6bb(0x269)],touchCurrentY=_0x4b3e63[_0x42a6bb(0x26d)],touchStartTime=Date[_0x42a6bb(0x210)]();if(isInGameState&&!isShowingPortraitMessage)isTouchActiveGame=!![],isTouchActiveMenu=![];else!isShowingPortraitMessage&&(isTouchActiveMenu=!![],isTouchActiveGame=![],typeof handleCanvasTouch===_0x42a6bb(0x1d7)&&handleCanvasTouch(_0x1e1ad1,_0x42a6bb(0x233)));}}function handleTouchMoveGlobal(_0x431e14){const _0x412316=_0x2e1d7f;_0x431e14[_0x412316(0x1eb)]();if(_0x431e14[_0x412316(0x296)]['length']>0x0){const _0xb1ab3=_0x431e14[_0x412316(0x296)][0x0];touchCurrentX=_0xb1ab3[_0x412316(0x269)],touchCurrentY=_0xb1ab3[_0x412316(0x26d)];if(isTouchActiveGame&&isInGameState&&!isShowingPortraitMessage){}else isTouchActiveMenu&&!isInGameState&&!isShowingPortraitMessage&&(typeof handleCanvasTouch==='function'&&handleCanvasTouch(_0x431e14,_0x412316(0x23f)));}}function handleTouchEndGlobal(_0x398b40){const _0x923a5c=_0x2e1d7f;_0x398b40[_0x923a5c(0x1eb)]();const _0x395bab=Date[_0x923a5c(0x210)](),_0x251503=_0x395bab-touchStartTime;let _0x16dc9a=0x0,_0x555547=0x0,_0xc44f1d,_0x341927;_0x398b40['changedTouches']&&_0x398b40[_0x923a5c(0x2bf)]['length']>0x0?(_0xc44f1d=_0x398b40[_0x923a5c(0x2bf)][0x0][_0x923a5c(0x269)],_0x341927=_0x398b40['changedTouches'][0x0][_0x923a5c(0x26d)]):(_0xc44f1d=touchCurrentX,_0x341927=touchCurrentY);typeof _0xc44f1d==='number'&&typeof touchStartX===_0x923a5c(0x232)&&(_0x16dc9a=_0xc44f1d-touchStartX);typeof _0x341927===_0x923a5c(0x232)&&typeof touchStartY===_0x923a5c(0x232)&&(_0x555547=_0x341927-touchStartY);const _0x561819=Math[_0x923a5c(0x2ba)](_0x16dc9a*_0x16dc9a+_0x555547*_0x555547),_0x449e3a=_0x251503<TOUCH_TAP_MAX_DURATION&&_0x561819<TOUCH_TAP_MAX_MOVEMENT,_0x167f20=gameCanvas[_0x923a5c(0x281)](),_0x4f2485=gameCanvas[_0x923a5c(0x220)]/_0x167f20['width'],_0x55b093=gameCanvas[_0x923a5c(0x2bc)]/_0x167f20[_0x923a5c(0x2bc)],_0x5d344b=(_0xc44f1d-_0x167f20[_0x923a5c(0x1c8)])*_0x4f2485,_0x355740=(_0x341927-_0x167f20[_0x923a5c(0x241)])*_0x55b093;if(!isShowingPortraitMessage&&_0x449e3a){const _0x49e5d3=Date['now']();let _0x5e0587=![];if(typeof MARGIN_SIDE!=='undefined'&&typeof MARGIN_TOP!=='undefined'&&gameCanvas&&gameCtx){gameCtx[_0x923a5c(0x260)]='20px\x20\x27Press\x20Start\x202P\x27';let _0x5ad764=gameCtx[_0x923a5c(0x258)](_0x923a5c(0x29a))[_0x923a5c(0x220)],_0x29c922=gameCtx['measureText'](_0x923a5c(0x1cd))[_0x923a5c(0x220)];const _0x5e46a5=0x14,_0x2efbb2=gameCanvas['width']-MARGIN_SIDE-Math['max'](_0x5ad764,_0x29c922)-SCORE_AREA_TAP_MARGIN,_0x167e97=MARGIN_TOP-SCORE_AREA_TAP_MARGIN,_0x565a66=Math['max'](_0x5ad764,_0x29c922)+0x2*SCORE_AREA_TAP_MARGIN,_0x1608cd=SCORE_OFFSET_Y+0x5+_0x5e46a5+0x2*SCORE_AREA_TAP_MARGIN;_0x5d344b>=_0x2efbb2&&_0x5d344b<=_0x2efbb2+_0x565a66&&_0x355740>=_0x167e97&&_0x355740<=_0x167e97+_0x1608cd&&(_0x5e0587=!![]);}if(_0x5e0587){if(lastTapArea===_0x923a5c(0x1d2)&&_0x49e5d3-lastTapTimestamp<DOUBLE_TAP_MAX_INTERVAL){if(typeof stopGameAndShowMenu===_0x923a5c(0x1d7)){stopGameAndShowMenu(),lastTapArea=null,lastTapTimestamp=0x0,isTouchActiveGame=![],isTouchActiveMenu=![],touchedMenuButtonIndex=-0x1;return;}}lastTapArea=_0x923a5c(0x1d2),lastTapTimestamp=_0x49e5d3;}else lastTapArea===_0x923a5c(0x1d2)&&(lastTapArea=null,lastTapTimestamp=0x0);}if(isTouchActiveGame&&isInGameState&&!isShowingPortraitMessage){if(_0x449e3a){if(selectedFiringMode==='single'&&!(lastTapArea==='2up'&&Date[_0x923a5c(0x210)]()-lastTapTimestamp<DOUBLE_TAP_MAX_INTERVAL)){if(Date[_0x923a5c(0x210)]()-lastTapTime>SHOOT_COOLDOWN/0x2){let _0x54f66c=_0x923a5c(0x2b2);if(isTwoPlayerMode&&selectedGameMode===_0x923a5c(0x25a))_0x5d344b>gameCanvas['width']/0x2&&ship2&&player2Lives>0x0&&(_0x54f66c=isPlayerTwoAI?'ai_p2':_0x923a5c(0x223));else isTwoPlayerMode&&selectedGameMode===_0x923a5c(0x26c)&&(_0x54f66c=currentPlayer===0x1?_0x923a5c(0x2b2):_0x923a5c(0x223));if(_0x54f66c==='player1')p1FireInputWasDown=!![];else{if(_0x54f66c===_0x923a5c(0x223)||_0x54f66c===_0x923a5c(0x29b))p2FireInputWasDown=!![];}typeof firePlayerBullet===_0x923a5c(0x1d7)&&firePlayerBullet(_0x54f66c);if(_0x54f66c===_0x923a5c(0x2b2))p1FireInputWasDown=![];else{if(_0x54f66c==='player2'||_0x54f66c===_0x923a5c(0x29b))p2FireInputWasDown=![];}lastTapTime=Date[_0x923a5c(0x210)]();}}}shootPressed=![],p2ShootPressed=![],isTouchActiveGame=![];}else isTouchActiveMenu&&!isInGameState&&!isShowingPortraitMessage?(isTouchActiveMenu=![],typeof handleCanvasTouch===_0x923a5c(0x1d7)&&handleCanvasTouch(_0x398b40,_0x923a5c(0x1f1),_0x449e3a)):(isTouchActiveGame=![],isTouchActiveMenu=![]);touchedMenuButtonIndex=-0x1;}function handleKeyDown(_0x36e768){const _0x152474=_0x2e1d7f;try{if(isTouchActiveGame&&isInGameState){if(_0x36e768[_0x152474(0x229)]==='p'||_0x36e768[_0x152474(0x229)]==='P'){if(typeof togglePause===_0x152474(0x1d7))togglePause();}else{if(_0x36e768['key']==='Escape'||_0x36e768[_0x152474(0x229)]===_0x152474(0x254)){if(isInGameState&&typeof stopGameAndShowMenu===_0x152474(0x1d7))stopGameAndShowMenu();}}return;}audioContext&&audioContext[_0x152474(0x23b)]===_0x152474(0x279)&&audioContext[_0x152474(0x1cb)]()[_0x152474(0x295)](()=>{const _0x408bfc=_0x152474;audioContextInitialized=!![],console[_0x408bfc(0x1df)](_0x408bfc(0x2a3));});const _0x557072=['\x20',_0x152474(0x2ab),_0x152474(0x2d5),_0x152474(0x25b),_0x152474(0x1f6),_0x152474(0x254),_0x152474(0x266),'w','a','s','d','p','P','j','J','l','L','i','I',_0x152474(0x1f9),_0x152474(0x1f2),_0x152474(0x1ca)];(_0x557072[_0x152474(0x2bb)](_0x36e768[_0x152474(0x229)])||_0x557072['includes'](_0x36e768[_0x152474(0x205)]))&&_0x36e768['preventDefault']();let _0x2a0d4f=![];(isShowingPlayerGameOverMessage||gameOverSequenceStartTime>0x0||isShowingPortraitMessage)&&(_0x2a0d4f=!![]);if(_0x2a0d4f)return;if(isInGameState){if((_0x36e768[_0x152474(0x229)]==='p'||_0x36e768[_0x152474(0x229)]==='P')&&gameOverSequenceStartTime===0x0&&!isShowingPlayerGameOverMessage){if(typeof togglePause===_0x152474(0x1d7))togglePause();return;}if(!isPaused){if(!isManualControl){if(isPlayerTwoAI&&selectedGameMode===_0x152474(0x26c)&&currentPlayer===0x2){}else{if(_0x36e768[_0x152474(0x229)]===_0x152474(0x266)||_0x36e768[_0x152474(0x229)]==='Enter'){if(typeof stopGameAndShowMenu===_0x152474(0x1d7))stopGameAndShowMenu();}else{if(!_0x36e768[_0x152474(0x25d)]&&!_0x36e768['ctrlKey']&&!_0x36e768[_0x152474(0x268)]&&!_0x36e768[_0x152474(0x1f4)]&&_0x36e768['key']!=='p'&&_0x36e768['key']!=='P'){if(typeof showMenuState==='function')showMenuState();}}}}else{switch(_0x36e768['code']){case _0x152474(0x25b):case'KeyA':keyboardP1LeftDown=!![];break;case _0x152474(0x1f6):case _0x152474(0x1e0):keyboardP1RightDown=!![];break;case _0x152474(0x277):case'ArrowUp':case'KeyW':keyboardP1ShootDown=!![];break;case'KeyJ':case'Numpad4':if(isTwoPlayerMode&&!isPlayerTwoAI)keyboardP2LeftDown=!![];break;case'KeyL':case'Numpad6':if(isTwoPlayerMode&&!isPlayerTwoAI)keyboardP2RightDown=!![];break;case _0x152474(0x2cc):case _0x152474(0x1ca):if(isTwoPlayerMode&&!isPlayerTwoAI)keyboardP2ShootDown=!![];break;case _0x152474(0x266):case _0x152474(0x254):if(typeof stopGameAndShowMenu===_0x152474(0x1d7))stopGameAndShowMenu();break;}if(!keyboardP2LeftDown&&isTwoPlayerMode&&!isPlayerTwoAI&&_0x36e768[_0x152474(0x229)][_0x152474(0x1fb)]()==='j')keyboardP2LeftDown=!![];if(!keyboardP2RightDown&&isTwoPlayerMode&&!isPlayerTwoAI&&_0x36e768[_0x152474(0x229)]['toLowerCase']()==='l')keyboardP2RightDown=!![];if(!keyboardP2ShootDown&&isTwoPlayerMode&&!isPlayerTwoAI&&_0x36e768[_0x152474(0x229)][_0x152474(0x1fb)]()==='i')keyboardP2ShootDown=!![];}}}else{if(isTouchActiveMenu)return;if(isShowingScoreScreen&&!isTransitioningToDemoViaScoreScreen){if(!_0x36e768[_0x152474(0x25d)]&&!_0x36e768[_0x152474(0x2b8)]&&!_0x36e768['metaKey']&&!_0x36e768['shiftKey']&&_0x36e768[_0x152474(0x229)]!=='p'&&_0x36e768[_0x152474(0x229)]!=='P'){if(typeof showMenuState===_0x152474(0x1d7))showMenuState();return;}}else{if(!isShowingScoreScreen){stopAutoDemoTimer();switch(_0x36e768[_0x152474(0x229)]){case'ArrowUp':case'w':selectedButtonIndex=selectedButtonIndex<=0x0?0x1:0x0,startAutoDemoTimer();break;case _0x152474(0x2d5):case's':selectedButtonIndex=selectedButtonIndex>=0x1?0x0:0x1,startAutoDemoTimer();break;case _0x152474(0x254):case'\x20':if(isPlayerSelectMode)selectedButtonIndex===0x0?startGame1P():startGame2P();else{if(isOnePlayerGameTypeSelectMode)selectedButtonIndex===0x0?(isOnePlayerGameTypeSelectMode=![],isFiringModeSelectMode=!![],selectedOnePlayerGameVariant=_0x152474(0x1db),selectedGameMode='normal',isTwoPlayerMode=![],isPlayerTwoAI=![],selectedButtonIndex=0x0):(isOnePlayerGameTypeSelectMode=![],isOnePlayerVsAIGameTypeSelectMode=!![],selectedButtonIndex=0x0);else{if(isOnePlayerVsAIGameTypeSelectMode)selectedButtonIndex===0x0?(selectedOnePlayerGameVariant='1P_VS_AI_NORMAL',selectedGameMode='normal'):(selectedOnePlayerGameVariant=_0x152474(0x236),selectedGameMode=_0x152474(0x25a)),isOnePlayerVsAIGameTypeSelectMode=![],isFiringModeSelectMode=!![],isTwoPlayerMode=!![],isPlayerTwoAI=!![],selectedButtonIndex=0x0;else{if(isGameModeSelectMode)selectedButtonIndex===0x0?selectedGameMode='normal':selectedGameMode=_0x152474(0x25a),isGameModeSelectMode=![],isFiringModeSelectMode=!![],isTwoPlayerMode=!![],isPlayerTwoAI=![],selectedButtonIndex=0x0;else{if(isFiringModeSelectMode)selectedButtonIndex===0x0?selectedFiringMode=_0x152474(0x27a):selectedFiringMode=_0x152474(0x206),baseStartGame(!![]);else{if(selectedButtonIndex===0x0)isPlayerSelectMode=!![],selectedButtonIndex=0x0;else selectedButtonIndex===0x1&&exitGame();}}}}}startAutoDemoTimer();break;case _0x152474(0x266):goBackInMenu(),startAutoDemoTimer();break;default:startAutoDemoTimer();break;}}}}}catch(_0x144a7a){console['error'](_0x152474(0x2a4),_0x144a7a),keyboardP1LeftDown=![],keyboardP1RightDown=![],keyboardP1ShootDown=![],keyboardP2LeftDown=![],keyboardP2RightDown=![],keyboardP2ShootDown=![],p1JustFiredSingle=![],p2JustFiredSingle=![],p1FireInputWasDown=![],p2FireInputWasDown=![];}}function handleKeyUp(_0x7746d){const _0x3f4b67=_0x2e1d7f;try{switch(_0x7746d[_0x3f4b67(0x205)]){case _0x3f4b67(0x25b):case _0x3f4b67(0x2c7):keyboardP1LeftDown=![];break;case'ArrowRight':case'KeyD':keyboardP1RightDown=![];break;case _0x3f4b67(0x277):case _0x3f4b67(0x2ab):case _0x3f4b67(0x1e4):keyboardP1ShootDown=![];if(selectedFiringMode===_0x3f4b67(0x206))p1JustFiredSingle=![];break;case _0x3f4b67(0x1ff):case _0x3f4b67(0x1f9):keyboardP2LeftDown=![];break;case _0x3f4b67(0x26f):case _0x3f4b67(0x1f2):keyboardP2RightDown=![];break;case _0x3f4b67(0x2cc):case'Numpad0':keyboardP2ShootDown=![];if(selectedFiringMode===_0x3f4b67(0x206))p2JustFiredSingle=![];break;}if(_0x7746d['key']['toLowerCase']()==='j')keyboardP2LeftDown=![];if(_0x7746d[_0x3f4b67(0x229)][_0x3f4b67(0x1fb)]()==='l')keyboardP2RightDown=![];if(_0x7746d[_0x3f4b67(0x229)][_0x3f4b67(0x1fb)]()==='i'){keyboardP2ShootDown=![];if(selectedFiringMode==='single')p2JustFiredSingle=![];}}catch(_0x4d8e73){console[_0x3f4b67(0x288)](_0x3f4b67(0x2a7),_0x4d8e73),keyboardP1LeftDown=![],keyboardP1RightDown=![],keyboardP1ShootDown=![],keyboardP2LeftDown=![],keyboardP2RightDown=![],keyboardP2ShootDown=![],p1JustFiredSingle=![],p2JustFiredSingle=![];}}function handleGamepadConnected(_0x19271d){const _0x5155b8=_0x2e1d7f;try{audioContext&&audioContext[_0x5155b8(0x23b)]===_0x5155b8(0x279)&&audioContext[_0x5155b8(0x1cb)]()[_0x5155b8(0x295)](()=>{audioContextInitialized=!![],console['log']('AudioContext\x20resumed\x20by\x20gamepad\x20connection.');});if(connectedGamepadIndex===null){connectedGamepadIndex=_0x19271d[_0x5155b8(0x29c)]['index'];const _0x1ea4e4=_0x19271d[_0x5155b8(0x29c)]['buttons'][_0x5155b8(0x2cb)];previousButtonStates=new Array(_0x1ea4e4)[_0x5155b8(0x227)](![]),previousDemoButtonStates=new Array(_0x1ea4e4)[_0x5155b8(0x227)](![]),previousGameButtonStates=new Array(_0x1ea4e4)[_0x5155b8(0x227)](![]),!isInGameState&&!isTouchActiveMenu&&(stopAutoDemoTimer(),selectedButtonIndex=0x0);}else{if(connectedGamepadIndexP2===null){connectedGamepadIndexP2=_0x19271d[_0x5155b8(0x29c)][_0x5155b8(0x2b6)];const _0x1ef21c=_0x19271d[_0x5155b8(0x29c)]['buttons'][_0x5155b8(0x2cb)];previousGameButtonStatesP2=new Array(_0x1ef21c)[_0x5155b8(0x227)](![]);}}}catch(_0x33184d){console[_0x5155b8(0x288)]('Error\x20in\x20handleGamepadConnected:',_0x33184d);}}function handleGamepadDisconnected(_0x39e6ec){const _0x168878=_0x2e1d7f;try{if(connectedGamepadIndex===_0x39e6ec[_0x168878(0x29c)][_0x168878(0x2b6)])connectedGamepadIndex=null,previousButtonStates=[],previousDemoButtonStates=[],previousGameButtonStates=[],!isInGameState&&!isTouchActiveMenu&&(selectedButtonIndex=-0x1,joystickMovedVerticallyLastFrame=![],startAutoDemoTimer()),p1FireInputWasDown=![];else connectedGamepadIndexP2===_0x39e6ec['gamepad'][_0x168878(0x2b6)]&&(connectedGamepadIndexP2=null,previousGameButtonStatesP2=[],p2FireInputWasDown=![]);}catch(_0xb691ad){console[_0x168878(0x288)](_0x168878(0x2bd),_0xb691ad),p1JustFiredSingle=![],p2JustFiredSingle=![],p1FireInputWasDown=![],p2FireInputWasDown=![];}}function saveHighScore(){const _0x1c45b5=_0x2e1d7f;try{let _0x2745b5=0x0;if(isTwoPlayerMode&&selectedGameMode==='coop')_0x2745b5=Math[_0x1c45b5(0x2c9)](player1Score,player2Score);else isTwoPlayerMode&&selectedGameMode==='normal'?_0x2745b5=Math[_0x1c45b5(0x2c9)](player1Score,player2Score):_0x2745b5=score;isManualControl&&_0x2745b5>highScore&&(highScore=_0x2745b5);}catch(_0x5d47b8){console[_0x1c45b5(0x288)]('Error\x20in\x20saveHighScore:',_0x5d47b8);}}function loadHighScore(){const _0x2874c7=_0x2e1d7f;try{highScore=0x4e20;}catch(_0x369e31){console[_0x2874c7(0x288)](_0x2874c7(0x1c9),_0x369e31),highScore=0x4e20;}}const soundsToPauseOnSystemPause=Object[_0x2e1d7f(0x293)](soundPaths);let soundPausedStates={};function pauseAllSounds(){const _0x283d1d=_0x2e1d7f;if(audioContext&&audioContext[_0x283d1d(0x23b)]===_0x283d1d(0x26e)){}for(const _0x505f63 in soundSources){Object[_0x283d1d(0x2ce)]['call'](soundSources,_0x505f63)&&stopSound(_0x505f63);}isGridSoundPlaying=![];}function resumeAllSounds(){const _0xcc3673=_0x2e1d7f;audioContext&&audioContext[_0xcc3673(0x23b)]==='suspended'&&audioContext[_0xcc3673(0x1cb)]()['then'](()=>console['log'](_0xcc3673(0x2db)))[_0xcc3673(0x246)](_0x24e161=>console[_0xcc3673(0x288)]('Error\x20resuming\x20AudioContext:',_0x24e161)),!isInGameState&&audioContext&&!isTouchActiveMenu&&!isShowingPortraitMessage&&playSound(_0xcc3673(0x29d),!![],0.2);}function togglePause(){const _0x5cc9a7=_0x2e1d7f;let _0x5a1225=![];const _0x219619=isShowingPlayerGameOverMessage||isTwoPlayerMode&&selectedGameMode===_0x5cc9a7(0x25a)&&(isPlayer1ShowingGameOverMessage||isPlayer2ShowingGameOverMessage);if(isInGameState&&gameOverSequenceStartTime===0x0&&!_0x219619&&!isShowingPortraitMessage){if(!isManualControl)_0x5a1225=!![];else{if(isTwoPlayerMode&&selectedGameMode===_0x5cc9a7(0x25a))_0x5a1225=player1Lives>0x0&&ship1&&!isPlayer1ShipCaptured&&!player1NeedsRespawnAfterCapture||player2Lives>0x0&&ship2&&!isPlayer2ShipCaptured&&!player2NeedsRespawnAfterCapture;else isTwoPlayerMode&&selectedGameMode===_0x5cc9a7(0x26c)&&isPlayerTwoAI&&currentPlayer===0x2?_0x5a1225=![]:_0x5a1225=playerLives>0x0&&ship&&!isShipCaptured;}}if(!_0x5a1225)return;isPaused=!isPaused,isPaused?(pauseAllSounds(),clearTimeout(mouseIdleTimerId),mouseIdleTimerId=null):(resumeAllSounds(),clearTimeout(mouseIdleTimerId),mouseIdleTimerId=setTimeout(hideCursor,0x7d0),audioContext&&audioContext[_0x5cc9a7(0x23b)]===_0x5cc9a7(0x279)&&audioContext[_0x5cc9a7(0x1cb)]()[_0x5cc9a7(0x295)](()=>{const _0x435829=_0x5cc9a7;audioContextInitialized=!![],console[_0x435829(0x1df)](_0x435829(0x234));}));}function processSingleController(_0x265159,_0x45558a){const _0x4e3ef8=_0x2e1d7f,_0x540be1=_0x265159[_0x4e3ef8(0x2d1)][_0x4e3ef8(0x1c6)](_0x15fd96=>_0x15fd96[_0x4e3ef8(0x28c)]),_0x2a8142={'left':![],'right':![],'shoot':![],'pause':![],'back':![],'newButtonStates':_0x540be1[_0x4e3ef8(0x253)]()},_0xf81f23=_0x540be1[PS5_BUTTON_CROSS],_0xd6f636=_0x540be1[PS5_BUTTON_R1],_0x1a4525=_0x45558a[PS5_BUTTON_R1]??![],_0x4cef34=_0x540be1[PS5_BUTTON_TRIANGLE],_0x750ec6=_0x45558a[PS5_BUTTON_TRIANGLE]??![],_0x27a5e9=_0x265159[_0x4e3ef8(0x2d3)][PS5_LEFT_STICK_X]??0x0,_0x408bcb=_0x540be1[PS5_DPAD_LEFT],_0xbbb023=_0x540be1[PS5_DPAD_RIGHT],_0x3200f5=AXIS_DEAD_ZONE_GAMEPLAY;if(_0x27a5e9<-_0x3200f5||_0x408bcb)_0x2a8142['left']=!![];else(_0x27a5e9>_0x3200f5||_0xbbb023)&&(_0x2a8142[_0x4e3ef8(0x26a)]=!![]);return _0xf81f23&&(_0x2a8142[_0x4e3ef8(0x2c1)]=!![]),_0xd6f636&&!_0x1a4525&&(_0x2a8142['pause']=!![]),_0x4cef34&&!_0x750ec6&&(_0x2a8142[_0x4e3ef8(0x1fe)]=!![]),_0x2a8142;}function triggerFinalGameOverSequence(){const _0x420d61=_0x2e1d7f;if(isInGameState&&gameOverSequenceStartTime===0x0){isPaused=![],isShowingDemoText=![],isShowingIntro=![],isWaveTransitioning=![],showCsHitsMessage=![],showExtraLifeMessage=![],showPerfectMessage=![],showCSClearMessage=![],showCsHitsForClearMessage=![],showCsScoreForClearMessage=![],showReadyMessage=![],showCsBonusScoreMessage=![],isShowingPlayerGameOverMessage=![],isEntrancePhaseActive=![],isCsCompletionDelayActive=![],csCompletionDelayStartTime=0x0,csCompletionResultIsPerfect=![],csIntroSoundPlayed=![];isManualControl&&saveHighScore();const _0x730944=Object[_0x420d61(0x293)](soundPaths)[_0x420d61(0x280)](_0x36770e=>_0x36770e!==_0x420d61(0x1dc)&&_0x36770e!==_0x420d61(0x2b9));_0x730944['forEach'](_0x4f7298=>stopSound(_0x4f7298)),isGridSoundPlaying=![];const _0x2a8340=Date['now']();playSound(_0x420d61(0x1dc),![],0.4),isTwoPlayerMode&&selectedGameMode===_0x420d61(0x26c)&&player1Lives<=0x0&&player2Lives<=0x0||selectedOnePlayerGameVariant===_0x420d61(0x20c)&&player1Lives<=0x0&&player2Lives<=0x0?gameOverSequenceStartTime=_0x2a8340-GAME_OVER_DURATION:gameOverSequenceStartTime=_0x2a8340,bullets=[],enemyBullets=[],explosions=[],fallingShips=[],isDualShipActive=![],player1IsDualShipActive=![],player2IsDualShipActive=![],isShowingResultsScreen=![],previousButtonStates=[],previousGameButtonStates=[],previousDemoButtonStates=[],previousGameButtonStatesP2=[];}}function triggerGameOver(){triggerFinalGameOverSequence();}